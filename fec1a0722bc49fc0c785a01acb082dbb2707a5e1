{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "4ed0a07a_d0edad75",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 3
      },
      "lineNbr": 0,
      "author": {
        "id": 1336288
      },
      "writtenOn": "2022-01-12T21:27:10Z",
      "side": 1,
      "message": "We do see this issue happens on https://chrome-internal-review.googlesource.com/c/devtools/devtools-internal/+/4452477\n\n",
      "revId": "fec1a0722bc49fc0c785a01acb082dbb2707a5e1",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "a2404621_df82d7bb",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 3
      },
      "lineNbr": 0,
      "author": {
        "id": 1336288
      },
      "writtenOn": "2022-01-12T21:31:31Z",
      "side": 1,
      "message": "Sorry. Seems better to move it to gerrit_client.py rather than recipe. Will rework on this CL.",
      "revId": "fec1a0722bc49fc0c785a01acb082dbb2707a5e1",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "4505e99c_626845cc",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 3
      },
      "lineNbr": 0,
      "author": {
        "id": 1393469
      },
      "writtenOn": "2022-01-12T21:37:27Z",
      "side": 1,
      "message": "That could work too, but you need to move existing logic from the recipe into gerrit_client, since it doesn\u0027t know what patchset is expected.",
      "parentUuid": "a2404621_df82d7bb",
      "revId": "fec1a0722bc49fc0c785a01acb082dbb2707a5e1",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "0a0dac51_f1e39557",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 3
      },
      "lineNbr": 0,
      "author": {
        "id": 1336288
      },
      "writtenOn": "2022-01-12T21:48:37Z",
      "side": 1,
      "message": "Yeah, you are right. Gerrit does not return anything for the \"Publish Change Edit\". So in gerrit_client, there is no way to check which patchset is published. And it is not a good idea to mix multiple calls into a single cmd in gerrit_client.py. \n\nOverall, recipe is still the best place for this logic. Thanks for your information.",
      "parentUuid": "4505e99c_626845cc",
      "revId": "fec1a0722bc49fc0c785a01acb082dbb2707a5e1",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "4314f71f_44783ef1",
        "filename": "recipes/recipe_modules/gerrit/api.py",
        "patchSetId": 3
      },
      "lineNbr": 408,
      "author": {
        "id": 1393469
      },
      "writtenOn": "2022-01-12T21:32:06Z",
      "side": 1,
      "message": "add exponential back off, e.g. sleep(2**i) before this line",
      "revId": "fec1a0722bc49fc0c785a01acb082dbb2707a5e1",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "80aba82f_840845c3",
        "filename": "recipes/recipe_modules/gerrit/api.py",
        "patchSetId": 3
      },
      "lineNbr": 408,
      "author": {
        "id": 1336288
      },
      "writtenOn": "2022-01-12T22:00:12Z",
      "side": 1,
      "message": "Done. Added it after this line to avoid 0^2.",
      "parentUuid": "4314f71f_44783ef1",
      "revId": "fec1a0722bc49fc0c785a01acb082dbb2707a5e1",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "f9b5c8c9_427345cc",
        "filename": "recipes/recipe_modules/gerrit/api.py",
        "patchSetId": 3
      },
      "lineNbr": 408,
      "author": {
        "id": 1393469
      },
      "writtenOn": "2022-01-12T22:07:52Z",
      "side": 1,
      "message": "You should swap retries**2 with 2**retries. 30s also seems a bit high for base, latency is usually seconds.",
      "parentUuid": "80aba82f_840845c3",
      "revId": "fec1a0722bc49fc0c785a01acb082dbb2707a5e1",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "94d91c8c_5b7c1c76",
        "filename": "recipes/recipe_modules/gerrit/api.py",
        "patchSetId": 3
      },
      "lineNbr": 408,
      "author": {
        "id": 1336288
      },
      "writtenOn": "2022-01-12T22:37:33Z",
      "side": 1,
      "message": "I see. In release builders, we do observe this delay multiple times and they are usually longer than seconds. Reduced to 10s, so wait 20s and then 40s.",
      "parentUuid": "f9b5c8c9_427345cc",
      "revId": "fec1a0722bc49fc0c785a01acb082dbb2707a5e1",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "0bf673a5_8f3ab5ba",
        "filename": "recipes/recipe_modules/gerrit/api.py",
        "patchSetId": 3
      },
      "lineNbr": 408,
      "author": {
        "id": 1393469
      },
      "writtenOn": "2022-01-12T22:52:11Z",
      "side": 1,
      "message": "lgtm!",
      "parentUuid": "94d91c8c_5b7c1c76",
      "revId": "fec1a0722bc49fc0c785a01acb082dbb2707a5e1",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    }
  ]
}