{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "7f72dfbc_ff9f739d",
        "filename": "ninja.py",
        "patchSetId": 8
      },
      "lineNbr": 66,
      "author": {
        "id": 1003232
      },
      "writtenOn": "2024-07-29T18:09:18Z",
      "side": 1,
      "message": "Can we change this so that it only errors out if you\u0027re actually trying to do a build (as opposed to one of the other ninja commands)? There\u0027s no need to error out otherwise, and I don\u0027t think it\u0027s great to break legit uses of ninja for this. IMO this script should be as close to just a wrapper around ninja as possible.",
      "fixSuggestions": [
        {
          "fixId": "51512dbd_071eeeb2",
          "description": "prompt_to_edit API",
          "replacements": [
            {
              "path": "ninja.py",
              "range": {
                "startLine": 33,
                "startChar": 0,
                "endLine": 34,
                "endChar": 0
              },
              "replacement": "def checkOutdir(ninja_args, is_build):\n"
            },
            {
              "path": "ninja.py",
              "range": {
                "startLine": 62,
                "startChar": 0,
                "endLine": 67,
                "endChar": 0
              },
              "replacement": "            if is_build:\n                print(\n                    \"depot_tools/ninja.py: detect use_remoteexec\u003dtrue\\n\"\n                    \"Use `autoninja` to choose appropriate build tool\\n\",\n                    file\u003dsys.stderr)\n                sys.exit(1)\n            else:\n                print(\n                    \"depot_tools/ninja.py: detect use_remoteexec\u003dtrue\\n\"\n                    \"Use `autoninja` to choose appropriate build tool\\n\"\n                    \"Or run `gn clean %s` to switch from siso to ninja\\n\" %\n                    (out_dir),\n                    file\u003dsys.stderr)\n                sys.exit(1)\n"
            },
            {
              "path": "ninja.py",
              "range": {
                "startLine": 72,
                "startChar": 0,
                "endLine": 73,
                "endChar": 0
              },
              "replacement": "        checkOutdir(ninja_args, True)\n"
            },
            {
              "path": "ninja.py",
              "range": {
                "startLine": 123,
                "startChar": 0,
                "endLine": 124,
                "endChar": 0
              },
              "replacement": "            checkOutdir(args[1:], True)\n"
            }
          ]
        }
      ],
      "revId": "356ef0324e4352bc17733d8aab05ba1f77206b42",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "08c66f23_c346f722",
        "filename": "ninja.py",
        "patchSetId": 8
      },
      "lineNbr": 66,
      "author": {
        "id": 1581717
      },
      "writtenOn": "2024-08-09T07:45:30Z",
      "side": 1,
      "message": "Hi, any update on this?",
      "parentUuid": "7f72dfbc_ff9f739d",
      "revId": "356ef0324e4352bc17733d8aab05ba1f77206b42",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    }
  ]
}