{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "6ec62312_6dd9a8f6",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1493367
      },
      "writtenOn": "2022-06-08T15:18:34Z",
      "side": 1,
      "message": "This is a reland instead of a standalone CL as brucedawson@ suggested. I like this better, it will actually keep the full history.\n\nI\u0027ve disabled `delayedexpansion` after the required block to not break something down the road.\n\nAlso tested the issue a little. Turns out it is triggered even without  enabledelayedexpansion . When a multiline comment starting with  ::  is written inside an IF/FOR block with  ()  on the second line, CMD doesn\u0027t work well:\n```\n:: line 1 test\n:: line 2 () test    \u003c-- this is fine\n:: ()                \u003c-- this is also fine\nIF 1 \u003d\u003d 1 (\n  :: line 1 test\n  :: line 2 () test  \u003c-- this is bad\n)\nIF 1 \u003d\u003d 1 (\n  :: line 1\n  :: ()              \u003c-- this is also bad\n)\n```",
      "revId": "97ba0d026f4ec275c238e5a21e40ca4e4b3ed3f2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "3040e07c_d9cd6def",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1128437
      },
      "writtenOn": "2022-06-08T16:10:38Z",
      "side": 1,
      "message": "I would recommend replacing :: with REM - the latter seems to be the \"right\" way to comment in batch files.",
      "parentUuid": "6ec62312_6dd9a8f6",
      "revId": "97ba0d026f4ec275c238e5a21e40ca4e4b3ed3f2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "cb1cc8a9_c8ff6919",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1493367
      },
      "writtenOn": "2022-06-08T16:17:07Z",
      "side": 1,
      "message": "Bruce Dawson mentioned that `REM` also has own flaws. A quick search revealed this thread [1] which has some interesting cases when `REM` may also fail in an unexpected way.\n\n1. https://superuser.com/questions/1610492/why-does-this-batch-file-fail-on-a-rem-line",
      "parentUuid": "3040e07c_d9cd6def",
      "revId": "97ba0d026f4ec275c238e5a21e40ca4e4b3ed3f2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "ba1c3b68_5b91bdf4",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1128439
      },
      "writtenOn": "2022-06-08T17:42:58Z",
      "side": 1,
      "message": "That is some interesting reading. I\u0027ve hit these issues before but never really investigated them. In particular, this will overwrite important_file. Yikes!\n\nREM some_command \u003e important_file",
      "parentUuid": "cb1cc8a9_c8ff6919",
      "revId": "97ba0d026f4ec275c238e5a21e40ca4e4b3ed3f2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "3fe032be_f455078c",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1128439
      },
      "writtenOn": "2022-06-08T18:19:53Z",
      "side": 1,
      "message": "I by patching it in and running gclient sync. Unfortunately update_depot_tools.bat checks out origin/main so the remainder of the test proceeds without the patch. I then remembered the hack way of preventing this which is to modify one of the files in the local branch so that checking out origin/main gives this error:\n  error: Your local changes to the following files would be overwritten by checkout:\nPreviously this error would occur and then \"gclient sync\" would continue. Now the process halts, because you\u0027re now returning exit codes.\nThat is, users cannot proceed without updating depot_tools.\nGiven the problems that have been reported lately by depot_tools not updating this seems like a good and desirable thing.",
      "revId": "97ba0d026f4ec275c238e5a21e40ca4e4b3ed3f2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "9681c5d0_0023173b",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1393469
      },
      "writtenOn": "2022-06-08T19:49:38Z",
      "side": 1,
      "message": "no CQ+2 due to merge conflict",
      "revId": "97ba0d026f4ec275c238e5a21e40ca4e4b3ed3f2",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    }
  ]
}