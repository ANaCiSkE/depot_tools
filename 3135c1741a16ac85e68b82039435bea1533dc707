{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "e98a4b25_fe3b573d",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 5
      },
      "lineNbr": 0,
      "author": {
        "id": 1560543
      },
      "writtenOn": "2023-08-10T19:04:44Z",
      "side": 1,
      "message": "for all new code changes, we started to require tests. Could you add them in tests/ directory?",
      "revId": "3135c1741a16ac85e68b82039435bea1533dc707",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "69de340a_c14243ac",
        "filename": "git_addf.py",
        "patchSetId": 5
      },
      "lineNbr": 22,
      "author": {
        "id": 1560543
      },
      "writtenOn": "2023-08-10T19:04:44Z",
      "side": 1,
      "message": "I think, by default, we should add only modified files. We can then have \u0027-a\u0027 that will add all files (both new aka \"??\" and modified aka \"M\").",
      "revId": "3135c1741a16ac85e68b82039435bea1533dc707",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "4f1adc74_f7f5a545",
        "filename": "git_addf.py",
        "patchSetId": 5
      },
      "lineNbr": 22,
      "author": {
        "id": 1351748
      },
      "writtenOn": "2023-08-10T19:52:04Z",
      "side": 1,
      "message": "Can do.\n\nQuick question. Do you want integration tests (creating a local git repo, adding some stuff to it, making a commit, dropping it) or just unit tests?\n\nAlso, for unit tests what is the standard for mocking out subprocess for new code?",
      "parentUuid": "69de340a_c14243ac",
      "revId": "3135c1741a16ac85e68b82039435bea1533dc707",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "a8b34a9f_a137ddd5",
        "filename": "git_addf.py",
        "patchSetId": 5
      },
      "lineNbr": 22,
      "author": {
        "id": 1560543
      },
      "writtenOn": "2023-08-10T19:56:53Z",
      "side": 1,
      "message": "We tend to do integration tests (see examples in tests/); but unit tests are welcome too - subprocess mocking is what we usually do.",
      "parentUuid": "4f1adc74_f7f5a545",
      "revId": "3135c1741a16ac85e68b82039435bea1533dc707",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "d4f81221_c838382b",
        "filename": "git_addf.py",
        "patchSetId": 5
      },
      "lineNbr": 22,
      "author": {
        "id": 1351748
      },
      "writtenOn": "2023-08-10T22:43:27Z",
      "side": 1,
      "message": "I added some unit tests, it has okay coverage of the nontrivial code.\n\nIdeally, I want an integration test that makes a temporary repo in a temporary directory and then just runs commands and stuff (like a cram test or similar), but I don\u0027t know how to do that with the test helpers that we have now.",
      "parentUuid": "a8b34a9f_a137ddd5",
      "revId": "3135c1741a16ac85e68b82039435bea1533dc707",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "38971f33_f544ae2d",
        "filename": "git_addf.py",
        "patchSetId": 5
      },
      "lineNbr": 37,
      "author": {
        "id": 1560543
      },
      "writtenOn": "2023-08-10T19:56:53Z",
      "side": 1,
      "message": "We have subprocess2.py which solves many os-related problems. Or even better, use git_common.py",
      "revId": "3135c1741a16ac85e68b82039435bea1533dc707",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "8a94ed80_c5c1daa7",
        "filename": "git_addf.py",
        "patchSetId": 5
      },
      "lineNbr": 37,
      "author": {
        "id": 1351748
      },
      "writtenOn": "2023-08-10T22:43:27Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "38971f33_f544ae2d",
      "revId": "3135c1741a16ac85e68b82039435bea1533dc707",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    }
  ]
}