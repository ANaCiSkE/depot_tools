{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "ca81d41d_7019d2b9",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1128439
      },
      "writtenOn": "2021-02-24T08:28:24Z",
      "side": 1,
      "message": "I don\u0027t think this fix is correct. The \u0027b\u0027 mode was used to stop Python from translating \\n characters to \\r\\n on Windows. In Python 3 we can\u0027t use \u0027b\u0027 mode for that anymore, but we still want to stop the translation.\n\nhttps://docs.python.org/release/3.2/library/functions.html#open\n\nI think you need newline\u003d\u0027\\n\u0027 in the open call, but double-check that.\n",
      "revId": "5555db4ea32a92b9aaa1a238134eddec94f54f83",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "1a389721_cfa8ab59",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1143154
      },
      "writtenOn": "2021-02-25T01:37:45Z",
      "side": 1,
      "message": "Some extra context:\nThe intent of this is to fix crashes caused by Python3 giving errors when JSON.dump tries to write a string to a file that was opened in binary mode.\n\nThis means the wrapper would crash when it wrote to the config file, this would truncate the file to size zero. Every subsequent read \u0026 parse of the config file would throw as JSON dislikes zero length inputs (every build).\n\n\nOn line endings:\n+1 if conversion is undesirable.\n\nIn Python3 the default newline mode is \u0027universal\u0027 which will convert between platform and \u0027\\n\u0027 on read/write.\n\nOut of interest: is conversion undesirable for performance or correctness reasons?\n\n`newline\u003d\u0027\\n\u0027` will mean that no conversion takes place.",
      "parentUuid": "ca81d41d_7019d2b9",
      "revId": "5555db4ea32a92b9aaa1a238134eddec94f54f83",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "62d81a64_8acafe72",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1161379
      },
      "writtenOn": "2021-02-25T02:47:59Z",
      "side": 1,
      "message": "I don\u0027t think it is necessary to have newline there?\nBecause wrapper doesn\u0027t use prettyprint, and ninjalog.cfg doesn\u0027t have newline.",
      "parentUuid": "1a389721_cfa8ab59",
      "revId": "5555db4ea32a92b9aaa1a238134eddec94f54f83",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    }
  ]
}