{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "310ec97d_88bd6f30",
        "filename": ".gitignore",
        "patchSetId": 1
      },
      "lineNbr": 8,
      "author": {
        "id": 1000768
      },
      "writtenOn": "2022-11-28T07:54:44Z",
      "side": 1,
      "message": "was this sorted ?",
      "revId": "998bd988c922e9b8584511e0b4e302f45f391e24",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "68afc479_500cbf8d",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1115868
      },
      "writtenOn": "2022-11-09T04:17:12Z",
      "side": 1,
      "message": "This is roughly what I had in mind for handling the long-term support vpython 2.7 for cros. However, I\u0027m not sure how to test it -- I followed https://chromium.googlesource.com/chromiumos/docs/+/HEAD/developer_guide.md to get a chromiumos checkout, but nothing in the resulting repo is a symlink named \u0027vpython\u0027 that points to depot_tools/cros, so I\u0027m not sure if my assumptions are incorrect or I didn\u0027t go far enough into the build?",
      "revId": "998bd988c922e9b8584511e0b4e302f45f391e24",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "0cfb6b8b_bb6470b0",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1115868
      },
      "writtenOn": "2022-11-23T22:59:47Z",
      "side": 1,
      "message": "friendly ping",
      "revId": "998bd988c922e9b8584511e0b4e302f45f391e24",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "54c38da9_9d8eb53f",
        "filename": "cros",
        "patchSetId": 1
      },
      "lineNbr": 92,
      "author": {
        "id": 1000768
      },
      "writtenOn": "2022-11-28T07:54:44Z",
      "side": 1,
      "message": "i\u0027m not understanding how this works.  are you going to symlink `vpython -\u003e cros` ?",
      "revId": "998bd988c922e9b8584511e0b4e302f45f391e24",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "e0d195d8_39816be0",
        "filename": "cros",
        "patchSetId": 1
      },
      "lineNbr": 92,
      "author": {
        "id": 1115868
      },
      "writtenOn": "2022-11-28T23:49:54Z",
      "side": 1,
      "message": "This is my big question -- based on how this script works, it seems to assume the tools are symlinked to cros. Is this right? But I couldn\u0027t find anywhere currently where vpython is symlinked to cros. So, basically I am not completely sure what you had in mind when we were discussing putting the vpython27 bootstrapping here.",
      "parentUuid": "54c38da9_9d8eb53f",
      "revId": "998bd988c922e9b8584511e0b4e302f45f391e24",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "f78424bf_dca13ecc",
        "filename": "cros",
        "patchSetId": 1
      },
      "lineNbr": 92,
      "author": {
        "id": 1000768
      },
      "writtenOn": "2022-11-29T01:29:38Z",
      "side": 1,
      "message": "the cros script can open the target script and inspect its shebang to see if it needs to bootstrap vpython27\n\n```\nwith open(path, \u0027r\u0027) as fp:\n  shebang \u003d next(fp).strip()\n\nif shebang.split()[-1] in (\u0027python2\u0027, \u0027vpython\u0027):\n  ... bootstrap vpython27 ...\n```\n\nof course this depends on whether we\u0027ll be deleting `vpython` entirely and going only with `vpython3`, or keeping `vpython` and parsing out `python_version`.",
      "parentUuid": "e0d195d8_39816be0",
      "revId": "998bd988c922e9b8584511e0b4e302f45f391e24",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "8d7e2035_93a0d900",
        "filename": "cros",
        "patchSetId": 1
      },
      "lineNbr": 92,
      "author": {
        "id": 1115868
      },
      "writtenOn": "2022-11-29T02:29:43Z",
      "side": 1,
      "message": "Oh, I see. Yes, we could do this, if you\u0027re not concerned about the performance penalty.\n\nThe current plan is indeed to retire the \u0027vpython\u0027 binary name and only have \u0027vpython3\u0027 available.",
      "parentUuid": "f78424bf_dca13ecc",
      "revId": "998bd988c922e9b8584511e0b4e302f45f391e24",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "eb4e1b9c_728c503d",
        "filename": "cros",
        "patchSetId": 1
      },
      "lineNbr": 92,
      "author": {
        "id": 1000768
      },
      "writtenOn": "2022-11-29T03:43:23Z",
      "side": 1,
      "message": "i don\u0027t think reading the shebang line out and doing a little parsing adds any noticeable overhead.  we\u0027re going to read it as soon as we execv() below, so it\u0027ll just be a minor pre-cache in the fs.",
      "parentUuid": "8d7e2035_93a0d900",
      "revId": "998bd988c922e9b8584511e0b4e302f45f391e24",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "41553b53_bb395dd2",
        "filename": "cros",
        "patchSetId": 1
      },
      "lineNbr": 92,
      "author": {
        "id": 1115868
      },
      "writtenOn": "2022-12-01T04:58:25Z",
      "side": 1,
      "message": "Makes sense. Just so I\u0027m clear though, the way this is used in practice is that individual python scripts are symlinked to \u0027cros\u0027? Is there a good way for me to check out a repo in this configuration so I can make sure it works correctly?",
      "parentUuid": "eb4e1b9c_728c503d",
      "revId": "998bd988c922e9b8584511e0b4e302f45f391e24",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "0292818c_fb029413",
        "filename": "cros",
        "patchSetId": 1
      },
      "lineNbr": 93,
      "author": {
        "id": 1000768
      },
      "writtenOn": "2022-11-28T07:54:44Z",
      "side": 1,
      "message": "i think we\u0027d hoist this to the top as a module constant\n\n```\nDEPOT_TOOLS_DIR \u003d Path(__file__).resolve().parent\n```",
      "revId": "998bd988c922e9b8584511e0b4e302f45f391e24",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    }
  ]
}