{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "38dc0f56_d19b3553",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 18,
      "author": {
        "id": 1170419
      },
      "writtenOn": "2021-06-24T22:26:47Z",
      "side": 1,
      "message": "And then the intent is to eventually remove the force_run_on_python3 arg once everything in chromium has been fixed/re-fixed for py3?",
      "revId": "d962d9cf9e9264ec3e91ee3e2d3cc2916b8784b8",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "d58b43dd_2802f6c4",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 18,
      "author": {
        "id": 1116524
      },
      "writtenOn": "2021-06-24T22:38:17Z",
      "side": 1,
      "message": "Yes, that is the idea. Hopefully, we can kill 2 birds with one stone and get rid of python2 altogether.",
      "parentUuid": "38dc0f56_d19b3553",
      "revId": "d962d9cf9e9264ec3e91ee3e2d3cc2916b8784b8",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "908701ed_077e258f",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1116524
      },
      "writtenOn": "2021-06-24T21:41:31Z",
      "side": 1,
      "message": "PTAL\n\nUnfortunately, from a cursory glance at the issue, we cannot re-enable the tests in Chromium since they have been broken for some time. We are going to need to do a full pass on the presubmit python tests. This can be added to the code health rotation.",
      "revId": "d962d9cf9e9264ec3e91ee3e2d3cc2916b8784b8",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "68aba803_99433165",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1170419
      },
      "writtenOn": "2021-06-24T22:26:47Z",
      "side": 1,
      "message": "Seems reasonable to me, since this immediately unblocks actual py3 migrations. But I\u0027m not strictly an OWNER here, so I defer to edward/dirk. ",
      "revId": "d962d9cf9e9264ec3e91ee3e2d3cc2916b8784b8",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "c7570153_1947af5b",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1003232
      },
      "writtenOn": "2021-06-24T23:30:54Z",
      "side": 1,
      "message": "oof, this is ugly :(.\n\nLet\u0027s sit on this for a day or so so I can consider whether or not we have any better options.\n\nWe have to worry to some extent about backwards-compatibility with depot_tools so I\u0027d rather\nnot grow such a hack if we can avoid it.\n\nOne alternative would be to just add shebangs incrementally to the test files, right?",
      "revId": "d962d9cf9e9264ec3e91ee3e2d3cc2916b8784b8",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "4716d684_1fde8c13",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1116524
      },
      "writtenOn": "2021-06-25T00:24:20Z",
      "side": 1,
      "message": "We could add shebangs to every test file yes, but that is much more work and we could very easily miss one considering the amount of globing we do when adding files for testing in presubmits.\n\nGiven the bad situation we are currently in, we can\u0027t just fix depot_tools by changing the test from an \"and\" to an \"or\" either as that would break presubmits in Chromium.",
      "parentUuid": "c7570153_1947af5b",
      "revId": "d962d9cf9e9264ec3e91ee3e2d3cc2916b8784b8",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "22b9f929_788fa435",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1393469
      },
      "writtenOn": "2021-06-25T16:39:01Z",
      "side": 1,
      "message": "Do you happen to know how many unit tests are we talking about? Perhaps we can revert use_python3 \u003d true for those, or even comment out unit tests and make it p0 to restore the tests.",
      "parentUuid": "4716d684_1fde8c13",
      "revId": "d962d9cf9e9264ec3e91ee3e2d3cc2916b8784b8",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "3aecc9f7_5dba7150",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1116524
      },
      "writtenOn": "2021-06-25T17:12:00Z",
      "side": 1,
      "message": "This actually has nothing to do with the \"USE_PYTHON3 \u003d True\" command in presubmits, this is a separate toggle on the \"GetUnitTests*()\" methods.\n\nI am going to spend some time today digging into the issue on the Chromium side to have a better idea of how many presubmits are affected.",
      "parentUuid": "22b9f929_788fa435",
      "revId": "d962d9cf9e9264ec3e91ee3e2d3cc2916b8784b8",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "9c2418ab_af00fb62",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1003232
      },
      "writtenOn": "2021-06-25T17:46:54Z",
      "side": 1,
      "message": "In chewing on this more, I\u0027ve come to the idea that this isn\u0027t so bad, if we update the parameter name and improve the docs a bit.\n\nI think I would change the parameter name to \u0027skip_shebang_check\u0027, and update the docs to say that `run_on_python3` only runs files with a python3 shebang by default.\n\nIt looks like there\u0027s \u003e700 test files in the repo, and about 250 have one shebang or another, so \u003e450 that don\u0027t, scattered across 140 directories.\n\nSo I agree that fixing them all manually w/o changing the presubmit code would be awkward, and having to add shebangs to \u003e450 files is not great, given that I mostly don\u0027t want the files to have shebangs :).",
      "parentUuid": "3aecc9f7_5dba7150",
      "revId": "d962d9cf9e9264ec3e91ee3e2d3cc2916b8784b8",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "bf680423_e422d418",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1003232
      },
      "writtenOn": "2021-06-25T17:47:44Z",
      "side": 1,
      "message": "[ hmm, not sure why that was marked as resolved earlier ... ]",
      "parentUuid": "9c2418ab_af00fb62",
      "revId": "d962d9cf9e9264ec3e91ee3e2d3cc2916b8784b8",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "a17e9ce5_b5aef2d4",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1116524
      },
      "writtenOn": "2021-06-25T19:19:30Z",
      "side": 1,
      "message": "Thanks, I updated the CL and added a warning in case the test is not run at all.",
      "parentUuid": "bf680423_e422d418",
      "revId": "d962d9cf9e9264ec3e91ee3e2d3cc2916b8784b8",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    }
  ]
}