{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "09e30fb2_d6b6078a",
        "filename": "gclient_scm.py",
        "patchSetId": 34
      },
      "lineNbr": 0,
      "author": {
        "id": 1163624
      },
      "writtenOn": "2022-02-16T19:53:10Z",
      "side": 1,
      "message": "Note that the actual new changes are from lines 408 to 449. All the previous lines have only been indented (with a variable rename of patch_rev-\u003epr) but Gerrit\u0027s diffing makes the change look more daunting than it is.",
      "revId": "2dc8222f34e6a0b59d86ed8bae35afe3a1d4a8bf",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "17d03456_22269c44",
        "filename": "gclient_scm.py",
        "patchSetId": 34
      },
      "lineNbr": 413,
      "author": {
        "id": 1393469
      },
      "writtenOn": "2022-02-16T22:02:03Z",
      "side": 1,
      "message": "Please correct me if I\u0027m wrong, but I don\u0027t think it\u0027s true - gerrit_util has auth logic that is always used.",
      "range": {
        "startLine": 411,
        "startChar": 0,
        "endLine": 413,
        "endChar": 69
      },
      "revId": "2dc8222f34e6a0b59d86ed8bae35afe3a1d4a8bf",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "e2f31260_704a92af",
        "filename": "gclient_scm.py",
        "patchSetId": 34
      },
      "lineNbr": 413,
      "author": {
        "id": 1163624
      },
      "writtenOn": "2022-02-17T16:13:02Z",
      "side": 1,
      "message": "Oh, you are right. I had incorrectly thought that you had to explicitly manually specify the authenticator but Authenticator.get() seems to do that on every API call. Removed!",
      "parentUuid": "17d03456_22269c44",
      "range": {
        "startLine": 411,
        "startChar": 0,
        "endLine": 413,
        "endChar": 69
      },
      "revId": "2dc8222f34e6a0b59d86ed8bae35afe3a1d4a8bf",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "5e0c80f3_231e08fd",
        "filename": "gclient_scm.py",
        "patchSetId": 34
      },
      "lineNbr": 425,
      "author": {
        "id": 1393469
      },
      "writtenOn": "2022-02-16T22:02:03Z",
      "side": 1,
      "message": "windows won\u0027t be happy",
      "range": {
        "startLine": 425,
        "startChar": 28,
        "endLine": 425,
        "endChar": 39
      },
      "revId": "2dc8222f34e6a0b59d86ed8bae35afe3a1d4a8bf",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "27d057d3_fe6e8fb8",
        "filename": "gclient_scm.py",
        "patchSetId": 34
      },
      "lineNbr": 425,
      "author": {
        "id": 1163624
      },
      "writtenOn": "2022-02-17T16:13:02Z",
      "side": 1,
      "message": "I originally had split(\u0027/\u0027) here but then the windows bot complained- https://ci.chromium.org/p/infra/builders/try/Depot%20Tools%20Presubmit%20(win)/b8822059190042675489?\nSo I latter added split(os.path.sep) to make the windows bot happy and it seems to work.",
      "parentUuid": "5e0c80f3_231e08fd",
      "range": {
        "startLine": 425,
        "startChar": 28,
        "endLine": 425,
        "endChar": 39
      },
      "revId": "2dc8222f34e6a0b59d86ed8bae35afe3a1d4a8bf",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "e0bb1b57_59eeb632",
        "filename": "gclient_scm.py",
        "patchSetId": 34
      },
      "lineNbr": 446,
      "author": {
        "id": 1393469
      },
      "writtenOn": "2022-02-16T22:02:03Z",
      "side": 1,
      "message": "new_patch_rev \u003d c[\u0027revisions\u0027][-1][\u0027ref\u0027]",
      "range": {
        "startLine": 445,
        "startChar": 10,
        "endLine": 446,
        "endChar": 68
      },
      "revId": "2dc8222f34e6a0b59d86ed8bae35afe3a1d4a8bf",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "f219f9da_e797ae89",
        "filename": "gclient_scm.py",
        "patchSetId": 34
      },
      "lineNbr": 446,
      "author": {
        "id": 1163624
      },
      "writtenOn": "2022-02-17T16:13:02Z",
      "side": 1,
      "message": "Thanks! (changed it slightly to use the current_revision since revisions is not a list but a dict).",
      "parentUuid": "e0bb1b57_59eeb632",
      "range": {
        "startLine": 445,
        "startChar": 10,
        "endLine": 446,
        "endChar": 68
      },
      "revId": "2dc8222f34e6a0b59d86ed8bae35afe3a1d4a8bf",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "e41850da_6a5a3116",
        "filename": "gclient_scm.py",
        "patchSetId": 34
      },
      "lineNbr": 453,
      "author": {
        "id": 1393469
      },
      "writtenOn": "2022-02-16T22:02:03Z",
      "side": 1,
      "message": "Safe to move outside the for loop",
      "revId": "2dc8222f34e6a0b59d86ed8bae35afe3a1d4a8bf",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "5ed7951a_d5a3a446",
        "filename": "gclient_scm.py",
        "patchSetId": 34
      },
      "lineNbr": 453,
      "author": {
        "id": 1163624
      },
      "writtenOn": "2022-02-17T16:13:02Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "e41850da_6a5a3116",
      "revId": "2dc8222f34e6a0b59d86ed8bae35afe3a1d4a8bf",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "a7343709_53cd72a5",
        "filename": "gclient_scm.py",
        "patchSetId": 34
      },
      "lineNbr": 458,
      "author": {
        "id": 1393469
      },
      "writtenOn": "2022-02-16T22:02:03Z",
      "side": 1,
      "message": "This won\u0027t work; this effectively removes previous patch. I feel `not rebase_patch_ref` can\u0027t be used with download_topics flag",
      "revId": "2dc8222f34e6a0b59d86ed8bae35afe3a1d4a8bf",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "9cfbd26d_2f7656a0",
        "filename": "gclient_scm.py",
        "patchSetId": 34
      },
      "lineNbr": 458,
      "author": {
        "id": 1163624
      },
      "writtenOn": "2022-02-17T16:13:02Z",
      "side": 1,
      "message": "You are right, my local e2e test never went down this path. I added a check in gclient.py for this. Alternatively, we could instead raise an error here (that would make it easier to add a test for).",
      "parentUuid": "a7343709_53cd72a5",
      "revId": "2dc8222f34e6a0b59d86ed8bae35afe3a1d4a8bf",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "e9806541_356043fb",
        "filename": "gclient_scm.py",
        "patchSetId": 34
      },
      "lineNbr": 470,
      "author": {
        "id": 1393469
      },
      "writtenOn": "2022-02-16T22:02:03Z",
      "side": 1,
      "message": "This is another edge case where we may invalidate previous patches. This may be extremely tricky to support with topics.\n\nMight be worth checking if we actually need this at all.",
      "revId": "2dc8222f34e6a0b59d86ed8bae35afe3a1d4a8bf",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "d7e8efcb_cb533923",
        "filename": "gclient_scm.py",
        "patchSetId": 34
      },
      "lineNbr": 470,
      "author": {
        "id": 1163624
      },
      "writtenOn": "2022-02-17T16:13:02Z",
      "side": 1,
      "message": "\u003e This is another edge case where we may invalidate previous patches. This may be extremely tricky to support with topics.\n\nAgreed. I went for the simplest solution for this- I changed it to raise an error if we are dealing with multiple patch_refs.\n\n\u003e Might be worth checking if we actually need this at all.\n\nI\u0027m not sure how to check that. It\u0027s scary (for me anyway) to change the existing behavior of anything in depot_tools incase something out there relies upon it.",
      "parentUuid": "e9806541_356043fb",
      "revId": "2dc8222f34e6a0b59d86ed8bae35afe3a1d4a8bf",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    }
  ]
}