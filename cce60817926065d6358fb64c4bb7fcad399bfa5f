{
  "comments": [
    {
      "key": {
        "uuid": "1342e0f9_6bcf8bbd",
        "filename": "recipes/recipe_modules/bot_update/resources/bot_update.py",
        "patchSetId": 4
      },
      "lineNbr": 535,
      "author": {
        "id": 1141499
      },
      "writtenOn": "2018-02-07T21:42:24Z",
      "side": 1,
      "message": "document + rename.\n\u0027treeish\u0027 is reference to tree object, while this is a reference to commit object, so perhaps \u0027committish\u0027.",
      "range": {
        "startLine": 535,
        "startChar": 4,
        "endLine": 535,
        "endChar": 23
      },
      "revId": "cce60817926065d6358fb64c4bb7fcad399bfa5f",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "068505c3_d3974841",
        "filename": "recipes/recipe_modules/bot_update/resources/bot_update.py",
        "patchSetId": 4
      },
      "lineNbr": 535,
      "author": {
        "id": 1179484
      },
      "writtenOn": "2018-02-08T16:59:52Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "1342e0f9_6bcf8bbd",
      "range": {
        "startLine": 535,
        "startChar": 4,
        "endLine": 535,
        "endChar": 23
      },
      "revId": "cce60817926065d6358fb64c4bb7fcad399bfa5f",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "b4da364f_ba4f4a55",
        "filename": "recipes/recipe_modules/bot_update/resources/bot_update.py",
        "patchSetId": 4
      },
      "lineNbr": 765,
      "author": {
        "id": 1141499
      },
      "writtenOn": "2018-02-07T21:42:24Z",
      "side": 1,
      "message": "base_ref\n\navoid using \u0027branch\u0027 when it really is ref (and yes, I know, this file is ridden with \u0027branch\u0027 where it should have been ref)",
      "range": {
        "startLine": 765,
        "startChar": 46,
        "endLine": 765,
        "endChar": 57
      },
      "revId": "cce60817926065d6358fb64c4bb7fcad399bfa5f",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "a599efc4_865d66c4",
        "filename": "recipes/recipe_modules/bot_update/resources/bot_update.py",
        "patchSetId": 4
      },
      "lineNbr": 765,
      "author": {
        "id": 1141499
      },
      "writtenOn": "2018-02-07T21:42:24Z",
      "side": 1,
      "message": "why is default value necessary?",
      "range": {
        "startLine": 765,
        "startChar": 57,
        "endLine": 765,
        "endChar": 62
      },
      "revId": "cce60817926065d6358fb64c4bb7fcad399bfa5f",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "26704104_bcf19799",
        "filename": "recipes/recipe_modules/bot_update/resources/bot_update.py",
        "patchSetId": 4
      },
      "lineNbr": 765,
      "author": {
        "id": 1179484
      },
      "writtenOn": "2018-02-08T16:59:52Z",
      "side": 1,
      "message": "I dunno, backwards compatibility? Removed it.",
      "parentUuid": "a599efc4_865d66c4",
      "range": {
        "startLine": 765,
        "startChar": 57,
        "endLine": 765,
        "endChar": 62
      },
      "revId": "cce60817926065d6358fb64c4bb7fcad399bfa5f",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "e06d2b55_c337e993",
        "filename": "recipes/recipe_modules/bot_update/resources/bot_update.py",
        "patchSetId": 4
      },
      "lineNbr": 765,
      "author": {
        "id": 1179484
      },
      "writtenOn": "2018-02-08T16:59:52Z",
      "side": 1,
      "message": "Changed",
      "parentUuid": "b4da364f_ba4f4a55",
      "range": {
        "startLine": 765,
        "startChar": 46,
        "endLine": 765,
        "endChar": 57
      },
      "revId": "cce60817926065d6358fb64c4bb7fcad399bfa5f",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "918136db_f979b707",
        "filename": "recipes/recipe_modules/bot_update/resources/bot_update.py",
        "patchSetId": 4
      },
      "lineNbr": 765,
      "author": {
        "id": 1141499
      },
      "writtenOn": "2018-02-14T19:04:19Z",
      "side": 1,
      "message": "I\u0027ve just realized that you actually need this for backwards compatibility for apply_gerrit_patch recipe method (see api of bot_update recipe module \u0026\u0026 another resource/ file alongside this one.",
      "parentUuid": "26704104_bcf19799",
      "range": {
        "startLine": 765,
        "startChar": 57,
        "endLine": 765,
        "endChar": 62
      },
      "revId": "cce60817926065d6358fb64c4bb7fcad399bfa5f",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "bfb8aec9_0b40cf47",
        "filename": "recipes/recipe_modules/bot_update/resources/bot_update.py",
        "patchSetId": 4
      },
      "lineNbr": 765,
      "author": {
        "id": 1179484
      },
      "writtenOn": "2018-02-14T19:14:37Z",
      "side": 1,
      "message": "Re-added the default.\nWe don\u0027t need to change the other script to support this, do we?",
      "parentUuid": "918136db_f979b707",
      "range": {
        "startLine": 765,
        "startChar": 57,
        "endLine": 765,
        "endChar": 62
      },
      "revId": "cce60817926065d6358fb64c4bb7fcad399bfa5f",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "77309f6a_ee0e462d",
        "filename": "recipes/recipe_modules/bot_update/resources/bot_update.py",
        "patchSetId": 4
      },
      "lineNbr": 903,
      "author": {
        "id": 1141499
      },
      "writtenOn": "2018-02-14T19:04:19Z",
      "side": 1,
      "message": "remove.",
      "range": {
        "startLine": 903,
        "startChar": 6,
        "endLine": 903,
        "endChar": 47
      },
      "revId": "cce60817926065d6358fb64c4bb7fcad399bfa5f",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "cb7dbe3e_c1e8c80e",
        "filename": "recipes/recipe_modules/bot_update/resources/bot_update.py",
        "patchSetId": 4
      },
      "lineNbr": 903,
      "author": {
        "id": 1179484
      },
      "writtenOn": "2018-02-14T19:14:37Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "77309f6a_ee0e462d",
      "range": {
        "startLine": 903,
        "startChar": 6,
        "endLine": 903,
        "endChar": 47
      },
      "revId": "cce60817926065d6358fb64c4bb7fcad399bfa5f",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ed8cdd65_03043d80",
        "filename": "recipes/recipe_modules/bot_update/resources/bot_update.py",
        "patchSetId": 4
      },
      "lineNbr": 959,
      "author": {
        "id": 1141499
      },
      "writtenOn": "2018-02-07T21:42:24Z",
      "side": 1,
      "message": "you also need to support this one.",
      "range": {
        "startLine": 954,
        "startChar": 0,
        "endLine": 959,
        "endChar": 45
      },
      "revId": "cce60817926065d6358fb64c4bb7fcad399bfa5f",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "1a22b161_0939c84e",
        "filename": "recipes/recipe_modules/bot_update/resources/bot_update.py",
        "patchSetId": 4
      },
      "lineNbr": 959,
      "author": {
        "id": 1179484
      },
      "writtenOn": "2018-02-07T22:40:01Z",
      "side": 1,
      "message": "I don\u0027t understand this code, and I think it\u0027s because it\u0027s incorrect.\n\nIn the loop above, for every solution that matches the patch root, we call apply_gerrit_ref with the exact same arguments that don\u0027t depend on the solution in any way.\nThen, if it hasn\u0027t been called, we call apply_gerrit_ref with the exact same arguments.\n\nTo rephrase this, N :\u003d the number of solutions that match patch_root. If N \u003d 0, N :\u003d 1. N times call apply_gerrit_ref with the same arguments.",
      "parentUuid": "ed8cdd65_03043d80",
      "range": {
        "startLine": 954,
        "startChar": 0,
        "endLine": 959,
        "endChar": 45
      },
      "revId": "cce60817926065d6358fb64c4bb7fcad399bfa5f",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c015b747_6d04058e",
        "filename": "recipes/recipe_modules/bot_update/resources/bot_update.py",
        "patchSetId": 4
      },
      "lineNbr": 959,
      "author": {
        "id": 1141499
      },
      "writtenOn": "2018-02-07T23:19:43Z",
      "side": 1,
      "message": "so what do you think is incorrect here? (not to say this code is clear, it\u0027s not and should be refactored).\n\ni suspect you\u0027ve missed that between first call, which we only do if it applies to top-level solution, and second call is `gclient sync`.\nIf we apply patch to DEPS-ed in repo before `gclient sync`, patch would be erased. \nSimilarly, a patch to top level solution that changes its deps (typically, DEPS roll) needs to be applied **before** `gclient sync`.",
      "parentUuid": "1a22b161_0939c84e",
      "range": {
        "startLine": 954,
        "startChar": 0,
        "endLine": 959,
        "endChar": 45
      },
      "revId": "cce60817926065d6358fb64c4bb7fcad399bfa5f",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "50d16448_8cc6c9a8",
        "filename": "recipes/recipe_modules/bot_update/resources/bot_update.py",
        "patchSetId": 4
      },
      "lineNbr": 959,
      "author": {
        "id": 1179484
      },
      "writtenOn": "2018-02-08T16:59:52Z",
      "side": 1,
      "message": "You\u0027re right about the 2nd call. But the first call is still done in a loop with the same arguments every time.\n\nI added support for this, the best I could, though I don\u0027t know which cases it\u0027s actually used in.\n\nRe-ran previous tasks, still seem to work.\nhttps://ci.chromium.org/swarming/task/3b8f299302b4d910?server\u003dchromium-swarm.appspot.com\nhttps://ci.chromium.org/swarming/task/3b8f296b6fe1e410?server\u003dchromium-swarm.appspot.com",
      "parentUuid": "c015b747_6d04058e",
      "range": {
        "startLine": 954,
        "startChar": 0,
        "endLine": 959,
        "endChar": 45
      },
      "revId": "cce60817926065d6358fb64c4bb7fcad399bfa5f",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ba5d8329_572dd483",
        "filename": "recipes/recipe_modules/bot_update/resources/bot_update.py",
        "patchSetId": 4
      },
      "lineNbr": 959,
      "author": {
        "id": 1141499
      },
      "writtenOn": "2018-02-14T19:04:19Z",
      "side": 1,
      "message": "First call is inside a loop by behind a condition which is True at most once.",
      "parentUuid": "50d16448_8cc6c9a8",
      "range": {
        "startLine": 954,
        "startChar": 0,
        "endLine": 959,
        "endChar": 45
      },
      "revId": "cce60817926065d6358fb64c4bb7fcad399bfa5f",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    }
  ]
}