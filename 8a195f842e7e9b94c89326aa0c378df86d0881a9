{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "24ac2174_69ec5d12",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 4
      },
      "lineNbr": 0,
      "author": {
        "id": 1003232
      },
      "writtenOn": "2021-05-10T19:19:46Z",
      "side": 1,
      "message": "+ehmaldonado for a review as well.\n\nI\u0027m reluctant to change this, because it\u0027s not backwards-compatible (and we generally try to keep\ndepot_tools and gclient specifically backwards-compatible, even though it auto-updates).\n\nI agree that we should in general not rely on this logic, and it may have been a mistake to add it \nin the first place. \n",
      "revId": "8a195f842e7e9b94c89326aa0c378df86d0881a9",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "83701c68_65165540",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 4
      },
      "lineNbr": 0,
      "author": {
        "id": 1001629
      },
      "writtenOn": "2021-05-10T19:32:45Z",
      "side": 1,
      "message": "the alternative is:\n\n1. add a toggle to pick the default to DEPS file\n2. add toggle to all DEPS files\n3. eventually, possibly, remove toggle\n\ndo you think the risk is high enough to justify that overhead?",
      "revId": "8a195f842e7e9b94c89326aa0c378df86d0881a9",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "19253c29_cc001422",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 4
      },
      "lineNbr": 0,
      "author": {
        "id": 1001629
      },
      "writtenOn": "2021-05-10T19:33:17Z",
      "side": 1,
      "message": "like, if anything breaks, it\u0027ll be obvious and this can be reverted then, right?",
      "revId": "8a195f842e7e9b94c89326aa0c378df86d0881a9",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "e34446cb_1edc137b",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 4
      },
      "lineNbr": 0,
      "author": {
        "id": 1167909
      },
      "writtenOn": "2021-05-10T20:02:58Z",
      "side": 1,
      "message": "Using \u0027vpython\u0027 was the simplest way to execute hooks using python2 when running gclient using python3, and I like the idea of using vpython/vpython3 and having a known environment, but maybe that can wait.\n\nI think we can give it a try, what do you think?",
      "revId": "8a195f842e7e9b94c89326aa0c378df86d0881a9",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "2933eb00_84595ec5",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 4
      },
      "lineNbr": 0,
      "author": {
        "id": 1003232
      },
      "writtenOn": "2021-05-10T20:28:11Z",
      "side": 1,
      "message": "I\u0027m not entirely sure that this change is worth it, but I don\u0027t understand how important this is to Mac ARM now. Don\u0027t we have a vpython2 that works on Mac ARM?",
      "parentUuid": "e34446cb_1edc137b",
      "revId": "8a195f842e7e9b94c89326aa0c378df86d0881a9",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "c732c9aa_b07dbc43",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 4
      },
      "lineNbr": 0,
      "author": {
        "id": 1003232
      },
      "writtenOn": "2021-05-10T20:28:11Z",
      "side": 1,
      "message": "Another alternative is to leave it the way it is and migrate all of the hooks to `python3` or `vpython3` so that we don\u0027t have to care.",
      "parentUuid": "83701c68_65165540",
      "revId": "8a195f842e7e9b94c89326aa0c378df86d0881a9",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "237aba3e_5ae430e2",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 4
      },
      "lineNbr": 0,
      "author": {
        "id": 1003232
      },
      "writtenOn": "2021-05-10T20:28:11Z",
      "side": 1,
      "message": "It won\u0027t be that obvious, insofar as people don\u0027t use tip-of-tree depot_tools + old checkouts that often (except when bisecting things), and breakages might lead to weird hard-to-debug errors.",
      "parentUuid": "19253c29_cc001422",
      "revId": "8a195f842e7e9b94c89326aa0c378df86d0881a9",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "be34d15f_5c7f633b",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 4
      },
      "lineNbr": 0,
      "author": {
        "id": 1003232
      },
      "writtenOn": "2021-05-12T16:19:48Z",
      "side": 1,
      "message": "FYI, moving everything to python3 isn\u0027t that far off, hopefully: \nhttps://crrev.com/c/2889373 is the last in a chain of CLs to move everything in src //DEPS.",
      "parentUuid": "c732c9aa_b07dbc43",
      "revId": "8a195f842e7e9b94c89326aa0c378df86d0881a9",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "8d7dc164_f0ab4ca9",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 4
      },
      "lineNbr": 0,
      "author": {
        "id": 1001629
      },
      "writtenOn": "2021-05-13T13:10:17Z",
      "side": 1,
      "message": "for mac/arm: the coverage\u003d\u003d4.3.4 bit in the 2nd half of https://bugs.chromium.org/p/chromium/issues/detail?id\u003d1205263#c3 is due to runhooks\n\nBut independent of mac/arm, silently changing the behavior of programs is imho very surprising for people who don\u0027t know that this is happening. I have vivid memories of https://crbug.com/923062 taking me *weeks* because I didn\u0027t expect that \"git\" wasn\u0027t \"git\" on infra. The less we silently do these things, the better. Especially for python, where `python -m this` even says \"Explicit is better than implicit\" ðŸ˜Š\n\nHow about adding a DEPS file toplevel var \"rewrite_python_to_vpython: True/False\", and doing the rewriting if that\u0027s set to True? That way it\u0027s explicit in the DEPS file. We can make it default to True for now, but over time I\u0027d like to add it to all DEPS files and eventually not give it a default value. Just so that people who read a DEPS file have a chance to see it.",
      "revId": "8a195f842e7e9b94c89326aa0c378df86d0881a9",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "90035cae_ee181956",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 4
      },
      "lineNbr": 0,
      "author": {
        "id": 1003232
      },
      "writtenOn": "2021-05-13T19:56:15Z",
      "side": 1,
      "message": "I don\u0027t remember the original reasoning behind this change, unfortunately, but I don\u0027t think we just did it for the heck of it.\n\nI do generally agree with \"explicit is better than implicit\" but I don\u0027t want to back-guess too much.\n\nAt any rate, I don\u0027t think changing this makes sense given that we\u0027re actively trying to move to python3 which won\u0027t have this issue. It just sounds like creating work to work around a problem that isn\u0027t really affecting things and should have a short lifespan.",
      "parentUuid": "8d7dc164_f0ab4ca9",
      "revId": "8a195f842e7e9b94c89326aa0c378df86d0881a9",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "32ca1dc1_27437b34",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 4
      },
      "lineNbr": 0,
      "author": {
        "id": 1001629
      },
      "writtenOn": "2021-05-13T20:06:25Z",
      "side": 1,
      "message": "Rewriting python3 with vpython3 is just as surprising. This is setting is up for long-term technical debt and confusion, and the cost to not do that seems very small to me: One if here, and one line in every DEPS file. Why is that controversial? What am I missing?",
      "parentUuid": "90035cae_ee181956",
      "revId": "8a195f842e7e9b94c89326aa0c378df86d0881a9",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "0121a44c_f6ea5c8a",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 4
      },
      "lineNbr": 0,
      "author": {
        "id": 1003232
      },
      "writtenOn": "2021-05-13T20:43:16Z",
      "side": 1,
      "message": "Maybe I\u0027m confused. I thought we *don\u0027t* rewrite things w/ python3? \n\nThat\u0027s why I think moving to py3 solves the problem. I would agree that we\ndon\u0027t want to start rewriting py3.",
      "parentUuid": "32ca1dc1_27437b34",
      "revId": "8a195f842e7e9b94c89326aa0c378df86d0881a9",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "511fa5c3_b9248a91",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 4
      },
      "lineNbr": 0,
      "author": {
        "id": 1001629
      },
      "writtenOn": "2021-05-13T23:11:16Z",
      "side": 1,
      "message": "Ah, great. If the plan is to _not_ rewrite \"python\" with \"python3\" or \"vpython\" then all\u0027s well. That wasn\u0027t clear to me, and that\u0027s what I was missing :) \n\nIs it ok if I s/python/python3/ for at least some of the DEPS in src.git?",
      "parentUuid": "0121a44c_f6ea5c8a",
      "revId": "8a195f842e7e9b94c89326aa0c378df86d0881a9",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "06716d27_d6bbf0ca",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 4
      },
      "lineNbr": 0,
      "author": {
        "id": 1001629
      },
      "writtenOn": "2021-05-13T23:18:31Z",
      "side": 1,
      "message": "...but at some point down the road just \"python\" will probably be python 3 everywhere and folks might use \"python\" again when they mean python 3 and then this code here will automatically silently turn vpython back on again. So could we remove this at some point before this happens?",
      "revId": "8a195f842e7e9b94c89326aa0c378df86d0881a9",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    }
  ]
}