{
  "comments": [
    {
      "key": {
        "uuid": "e798c8b9_8af13394",
        "filename": "/COMMIT_MSG",
        "patchSetId": 3
      },
      "lineNbr": 7,
      "author": {
        "id": 1001907
      },
      "writtenOn": "2020-06-22T17:49:43Z",
      "side": 1,
      "message": "CIPD?",
      "range": {
        "startLine": 7,
        "startChar": 48,
        "endLine": 7,
        "endChar": 51
      },
      "revId": "8d1cc6ae04980593d2e44c07b55420b29950ca9f",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "74bc52fc_26655420",
        "filename": "cipd",
        "patchSetId": 3
      },
      "lineNbr": 32,
      "author": {
        "id": 1001907
      },
      "writtenOn": "2020-06-22T17:49:43Z",
      "side": 1,
      "message": "IMO it would be better solved at the gclient layer, or the DEPS layer (i.e. only pull those CIPD packages on specific supported architectures).\n\nThat said, Go 1.12 supports aix/ppc64, so maybe we can just add this to the (untested) target architecture list (though gclient is likely going to be downloading a bunch of binaries which don\u0027t actually apply to your platform).\n\nAs a workaround, I would recommend adding a small cipd script which does \u0027exit 0\u0027 to your $PATH ahead of depot_tools.",
      "range": {
        "startLine": 32,
        "startChar": 0,
        "endLine": 32,
        "endChar": 6
      },
      "revId": "8d1cc6ae04980593d2e44c07b55420b29950ca9f",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "12a7c1f9_8cbb4637",
        "filename": "cipd",
        "patchSetId": 3
      },
      "lineNbr": 32,
      "author": {
        "id": 1323125
      },
      "writtenOn": "2020-06-22T18:05:43Z",
      "side": 1,
      "message": "Thanks for looking into this,\n\nYes AIX does support Go, I have actually created this issue to figure out how we can build it from source:\nhttps://bugs.chromium.org/p/chromium/issues/detail?id\u003d1097770\n\nI know that CIPD is similar to a package manager but is it actually used during building V8?\nAs we have been building it just fine without it.",
      "parentUuid": "74bc52fc_26655420",
      "range": {
        "startLine": 32,
        "startChar": 0,
        "endLine": 32,
        "endChar": 6
      },
      "revId": "8d1cc6ae04980593d2e44c07b55420b29950ca9f",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "4599d31e_de93791e",
        "filename": "cipd",
        "patchSetId": 3
      },
      "lineNbr": 32,
      "author": {
        "id": 1001907
      },
      "writtenOn": "2020-06-22T18:11:34Z",
      "side": 1,
      "message": "CIPD is essentially `curl \u0026\u0026 unzip` with some hash verification, version tagging, etc. In particular, it\u0027s not a package manager in the sense that it doesn\u0027t attempt to handle dependencies or conflicts between packages. It was built as a way to deliver blobs in a secure way that works the same across all our supported platforms (windows, mac, linux, etc.).\n\nWe can add aix to our list of cross-compile targets, but we wouldn\u0027t be actually verifying those binaries; however this will likely be enough to have gclient sync pull whatever it\u0027s trying to pull. I can\u0027t tell if those blobs will be useful to you or not, though :). If v8 is pulling binary resources which aren\u0027t architecture specific, you may need that data as part of the build (though it\u0027s possible that the build gracefully degrades without that data; that would be up to v8).",
      "parentUuid": "12a7c1f9_8cbb4637",
      "range": {
        "startLine": 32,
        "startChar": 0,
        "endLine": 32,
        "endChar": 6
      },
      "revId": "8d1cc6ae04980593d2e44c07b55420b29950ca9f",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "fa4a926f_ddfc87bd",
        "filename": "cipd",
        "patchSetId": 3
      },
      "lineNbr": 32,
      "author": {
        "id": 1323125
      },
      "writtenOn": "2020-06-22T18:25:16Z",
      "side": 1,
      "message": "Thanks for the information.\n\nIs cross compiling possible? I have tried \"GOOS\u003daix GOARCH\u003dppc64 go build test.go\" on an x64 machine but it fails with \"unsupported GOOS/GOARCH pair aix/ppc64\".\n\nSame command runs fine on an AIX machine.",
      "parentUuid": "4599d31e_de93791e",
      "range": {
        "startLine": 32,
        "startChar": 0,
        "endLine": 32,
        "endChar": 6
      },
      "revId": "8d1cc6ae04980593d2e44c07b55420b29950ca9f",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c02e66be_4fa4a1f9",
        "filename": "cipd",
        "patchSetId": 3
      },
      "lineNbr": 32,
      "author": {
        "id": 1001907
      },
      "writtenOn": "2020-06-22T19:23:46Z",
      "side": 1,
      "message": "Yes, but you\u0027ll probably need to build the SDK from source to ensure that all cross compile targets are available. It also depends on which golang version (AIX support was only added in 1.12 I think). I\u0027d start with https://golang.org/doc/install/source",
      "parentUuid": "fa4a926f_ddfc87bd",
      "range": {
        "startLine": 32,
        "startChar": 0,
        "endLine": 32,
        "endChar": 6
      },
      "revId": "8d1cc6ae04980593d2e44c07b55420b29950ca9f",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "27396332_ee10af92",
        "filename": "cipd",
        "patchSetId": 3
      },
      "lineNbr": 32,
      "author": {
        "id": 1323125
      },
      "writtenOn": "2020-06-22T19:35:20Z",
      "side": 1,
      "message": "Perfect, so would you be able to help Add AIX support as well? (i\u0027m guessing it will be similar to how s390 was aded here https://chromium-review.googlesource.com/c/infra/infra/+/661783)\n\nDo I need to create another ticket for it?",
      "parentUuid": "c02e66be_4fa4a1f9",
      "range": {
        "startLine": 32,
        "startChar": 0,
        "endLine": 32,
        "endChar": 6
      },
      "revId": "8d1cc6ae04980593d2e44c07b55420b29950ca9f",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "088464ea_21c909d9",
        "filename": "cipd",
        "patchSetId": 3
      },
      "lineNbr": 32,
      "author": {
        "id": 1001907
      },
      "writtenOn": "2020-06-23T01:19:07Z",
      "side": 1,
      "message": "Sorry I went silent; I added this to our builders and discovered a build issue which should be resolved shortly. If that produces a CIPD binary, I\u0027ll roll the new version into depot_tools tomorrow!",
      "parentUuid": "27396332_ee10af92",
      "range": {
        "startLine": 32,
        "startChar": 0,
        "endLine": 32,
        "endChar": 6
      },
      "revId": "8d1cc6ae04980593d2e44c07b55420b29950ca9f",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "53bc66cb_0c564b5e",
        "filename": "cipd",
        "patchSetId": 3
      },
      "lineNbr": 32,
      "author": {
        "id": 1323125
      },
      "writtenOn": "2020-06-23T01:50:40Z",
      "side": 1,
      "message": "Thanks a lot for your help. Is there a thread I can monitor this? or should I bug you here if I wanted follow up with how the process went?",
      "parentUuid": "088464ea_21c909d9",
      "range": {
        "startLine": 32,
        "startChar": 0,
        "endLine": 32,
        "endChar": 6
      },
      "revId": "8d1cc6ae04980593d2e44c07b55420b29950ca9f",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c9d4abe5_60c3456f",
        "filename": "cipd",
        "patchSetId": 3
      },
      "lineNbr": 32,
      "author": {
        "id": 1001907
      },
      "writtenOn": "2020-06-23T02:10:57Z",
      "side": 1,
      "message": "Filed https://bugs.chromium.org/p/chromium/issues/detail?id\u003d1098127.\n\nTurns out I goofed the fix (https://github.com/danjacques/gofslock/commit/e51aef0867a3a5c55ef7ac69ae814616982c12a6, fix for goof: https://github.com/danjacques/gofslock/pull/6), so that will probably get pulled tomorrow; then I can roll it into our deps lock (e.g. https://chromium-review.googlesource.com/c/infra/infra/+/2258876), at which point cipd will be built (internal), and I can roll it into depot_tools.",
      "parentUuid": "53bc66cb_0c564b5e",
      "range": {
        "startLine": 32,
        "startChar": 0,
        "endLine": 32,
        "endChar": 6
      },
      "revId": "8d1cc6ae04980593d2e44c07b55420b29950ca9f",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "86c07c88_bc62c971",
        "filename": "cipd",
        "patchSetId": 3
      },
      "lineNbr": 32,
      "author": {
        "id": 1323125
      },
      "writtenOn": "2020-06-23T02:46:06Z",
      "side": 1,
      "message": "That is great, I will test the built binary and if it runs we can modify the cipd script to include AIX.",
      "parentUuid": "c9d4abe5_60c3456f",
      "range": {
        "startLine": 32,
        "startChar": 0,
        "endLine": 32,
        "endChar": 6
      },
      "revId": "8d1cc6ae04980593d2e44c07b55420b29950ca9f",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c24b3e3d_65a945be",
        "filename": "cipd",
        "patchSetId": 3
      },
      "lineNbr": 32,
      "author": {
        "id": 1001907
      },
      "writtenOn": "2020-06-25T05:05:20Z",
      "side": 1,
      "message": "I believe we can abandon this CL now?",
      "parentUuid": "86c07c88_bc62c971",
      "range": {
        "startLine": 32,
        "startChar": 0,
        "endLine": 32,
        "endChar": 6
      },
      "revId": "8d1cc6ae04980593d2e44c07b55420b29950ca9f",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    }
  ]
}