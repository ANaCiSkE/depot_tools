{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "375c2fe7_1b99f21d",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1115868
      },
      "writtenOn": "2021-05-26T04:31:45Z",
      "side": 1,
      "message": "I wonder if CIPD folks might be able to help with allowing multiple versions of the same package to live in the same manifest. It seems like it would simplify things. +iannucci, vadimsh any thoughts?",
      "revId": "42b66a5a5d604f88547e3b6c95cf60d3398d7651",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "2e56b618_712b450c",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1002539
      },
      "writtenOn": "2021-05-26T04:59:14Z",
      "side": 1,
      "message": "What are you asking for exactly?\n\nThe following manifest should work fine right now:\n\n```\n@Subdir python3.8\ninfra/3pp/tools/cpython3/${platform} version:2@3.8.10.chromium.17\n@Subdir python3.9\ninfra/3pp/tools/cpython3/${platform} version:2@3.9.5.chromium.17\n```\n\nAnd the following manifest makes little sense (how would CIPD know what version to pick when installing stuff into \"python3\" directory?):\n\n```\n@Subdir python3\ninfra/3pp/tools/cpython3/${platform} version:2@3.8.10.chromium.17\n@Subdir python3\ninfra/3pp/tools/cpython3/${platform} version:2@3.9.5.chromium.17\n```\n\nDo you want to install them one over another at the same time? This will require significant changes to CIPD guts (since CIPD needs to track what files belong to what package, so it can clean them up when the package is removed or updated, this tracking currently assumes of version of a package per directory).",
      "parentUuid": "375c2fe7_1b99f21d",
      "revId": "42b66a5a5d604f88547e3b6c95cf60d3398d7651",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "d4d5528d_7a9bde57",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1275796
      },
      "writtenOn": "2021-05-26T05:13:46Z",
      "side": 1,
      "message": "Ah, yeah I didn\u0027t think of this. It doesn\u0027t quite apply in depot_tools as is because depot_tools extracts the version from the manifest and uses that to name the directory via -root... perhaps we could reduce some of the complexity by just manually specifying the directory name in the manifest with @Subdir.\n\nI think depot_tools wants to use the full name of the package in the directory to avoid clobbering files used by currently running python processes.",
      "parentUuid": "2e56b618_712b450c",
      "revId": "42b66a5a5d604f88547e3b6c95cf60d3398d7651",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "5a69d9c2_0bca056e",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1001907
      },
      "writtenOn": "2021-05-26T19:01:45Z",
      "side": 1,
      "message": "However... when we update minor versions of python, don\u0027t they just get written into the same directory right now? Are devs having issues with that?",
      "parentUuid": "d4d5528d_7a9bde57",
      "revId": "42b66a5a5d604f88547e3b6c95cf60d3398d7651",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "61414377_90bbda18",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1003232
      },
      "writtenOn": "2021-05-26T20:20:52Z",
      "side": 1,
      "message": "I feel like it might be good to have some documentation (if not a design doc) somewhere about how we expect this to work.\n\nSpecifically, I\u0027m wondering things like ...\n\n- will we download both 3.8 and 3.9 packages all the time, or download one by default and only download the other when asked for by vpython?\n\n- how will we update from 3.8 to 3.9 in python-bin/ ?\n\n- will `python3.9` be exposed as an executable directly?\n\nhow will 3.10 be treated?\n\netc.",
      "revId": "42b66a5a5d604f88547e3b6c95cf60d3398d7651",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "afb645f0_30bf13b5",
        "filename": "vpython3",
        "patchSetId": 1
      },
      "lineNbr": 52,
      "author": {
        "id": 1003232
      },
      "writtenOn": "2021-05-26T20:20:52Z",
      "side": 1,
      "message": "It would be good to document somewhere (maybe here, in comments) why we \nneed these flags, as opposed to this being baked into vpython directly\nor via some sort of config file ...\n\nI don\u0027t really like the wrappers growing additional logic that isn\u0027t in the\nbase executable; it creates too much of dependency on depot_tools.",
      "revId": "42b66a5a5d604f88547e3b6c95cf60d3398d7651",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    }
  ]
}