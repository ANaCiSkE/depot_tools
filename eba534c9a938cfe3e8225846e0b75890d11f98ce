{
  "comments": [
    {
      "key": {
        "uuid": "347dbd60_ee426bd1",
        "filename": "/COMMIT_MSG",
        "patchSetId": 3
      },
      "lineNbr": 9,
      "author": {
        "id": 1141499
      },
      "writtenOn": "2019-04-19T02:52:36Z",
      "side": 1,
      "message": "nit: too long line, git style is 72 chars/line limit",
      "revId": "eba534c9a938cfe3e8225846e0b75890d11f98ce",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "af175263_4aad3eeb",
        "filename": "/COMMIT_MSG",
        "patchSetId": 3
      },
      "lineNbr": 9,
      "author": {
        "id": 1141499
      },
      "writtenOn": "2019-04-20T00:08:15Z",
      "side": 1,
      "message": "ping",
      "parentUuid": "347dbd60_ee426bd1",
      "revId": "eba534c9a938cfe3e8225846e0b75890d11f98ce",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "2112e461_e6896746",
        "filename": "git_cache.py",
        "patchSetId": 3
      },
      "lineNbr": 248,
      "author": {
        "id": 1141499
      },
      "writtenOn": "2019-04-19T02:52:36Z",
      "side": 1,
      "message": "move back, please. The closer var is to its first usage, the better.",
      "revId": "eba534c9a938cfe3e8225846e0b75890d11f98ce",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "060885bd_7463984a",
        "filename": "git_cache.py",
        "patchSetId": 3
      },
      "lineNbr": 248,
      "author": {
        "id": 1323143
      },
      "writtenOn": "2019-04-19T18:51:33Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "2112e461_e6896746",
      "revId": "eba534c9a938cfe3e8225846e0b75890d11f98ce",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "6d707c55_3eecd547",
        "filename": "git_cache.py",
        "patchSetId": 3
      },
      "lineNbr": 248,
      "author": {
        "id": 1323143
      },
      "writtenOn": "2019-04-22T20:04:41Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "060885bd_7463984a",
      "revId": "eba534c9a938cfe3e8225846e0b75890d11f98ce",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9d5294e8_e8b841ca",
        "filename": "git_cache.py",
        "patchSetId": 3
      },
      "lineNbr": 369,
      "author": {
        "id": 1141499
      },
      "writtenOn": "2019-04-19T02:52:36Z",
      "side": 1,
      "message": "nit: del empty line.",
      "revId": "eba534c9a938cfe3e8225846e0b75890d11f98ce",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "48e34bb3_d53942e6",
        "filename": "git_cache.py",
        "patchSetId": 3
      },
      "lineNbr": 369,
      "author": {
        "id": 1323143
      },
      "writtenOn": "2019-04-19T18:51:33Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "9d5294e8_e8b841ca",
      "revId": "eba534c9a938cfe3e8225846e0b75890d11f98ce",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "7840846e_e812b57c",
        "filename": "git_cache.py",
        "patchSetId": 3
      },
      "lineNbr": 380,
      "author": {
        "id": 1141499
      },
      "writtenOn": "2019-04-19T02:52:36Z",
      "side": 1,
      "message": "add explanation about necessary existence of .ready files.",
      "revId": "eba534c9a938cfe3e8225846e0b75890d11f98ce",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "b381e457_e868190d",
        "filename": "git_cache.py",
        "patchSetId": 3
      },
      "lineNbr": 380,
      "author": {
        "id": 1323143
      },
      "writtenOn": "2019-04-19T18:51:33Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "7840846e_e812b57c",
      "revId": "eba534c9a938cfe3e8225846e0b75890d11f98ce",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "d89c4fc8_0ee92a57",
        "filename": "git_cache.py",
        "patchSetId": 3
      },
      "lineNbr": 388,
      "author": {
        "id": 1141499
      },
      "writtenOn": "2019-04-19T02:52:36Z",
      "side": 1,
      "message": "what does this $ mean here?",
      "range": {
        "startLine": 388,
        "startChar": 31,
        "endLine": 388,
        "endChar": 32
      },
      "revId": "eba534c9a938cfe3e8225846e0b75890d11f98ce",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e7ac9026_3b2ffeb6",
        "filename": "git_cache.py",
        "patchSetId": 3
      },
      "lineNbr": 388,
      "author": {
        "id": 1323143
      },
      "writtenOn": "2019-04-19T18:51:33Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "d89c4fc8_0ee92a57",
      "range": {
        "startLine": 388,
        "startChar": 31,
        "endLine": 388,
        "endChar": 32
      },
      "revId": "eba534c9a938cfe3e8225846e0b75890d11f98ce",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "61ef772b_7f7cc52f",
        "filename": "git_cache.py",
        "patchSetId": 3
      },
      "lineNbr": 406,
      "author": {
        "id": 1141499
      },
      "writtenOn": "2019-04-19T02:52:36Z",
      "side": 1,
      "message": "as I\u0027ve commented on another CL of yours before, this code is crap, since you are modifying it, let\u0027s improve it.\n\n1. create constant with compiled regexp, say _ready_file_pattern \u003d re.compile(...)\n2. don\u0027t do sorting, instead:\n\nobjects \u003d set(ls_out.strip().splitlines())\nready_dirs \u003d []\nfor name in objects:\n  m \u003d _ready_file_pattern.match(name)\n  # Given \u003cpath\u003e/\u003cnumber\u003e.ready, we are interested in \u003cpath\u003e/\u003cnumber\u003e directory.\n  if m and name[:-len(\u0027.ready\u0027)] in objects:  \n    ready_dirs.append( (int(m.group(1)), name[:-len(\u0027.ready\u0027)]) )\nif not ready_dirs:\n  # print no bootstrap file ..\n  return False\nlatest_dir \u003d max(ready_dirs)[1]",
      "range": {
        "startLine": 382,
        "startChar": 0,
        "endLine": 406,
        "endChar": 39
      },
      "revId": "eba534c9a938cfe3e8225846e0b75890d11f98ce",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "dc9fd504_3282d4a0",
        "filename": "git_cache.py",
        "patchSetId": 3
      },
      "lineNbr": 406,
      "author": {
        "id": 1323143
      },
      "writtenOn": "2019-04-19T18:51:33Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "61ef772b_7f7cc52f",
      "range": {
        "startLine": 382,
        "startChar": 0,
        "endLine": 406,
        "endChar": 39
      },
      "revId": "eba534c9a938cfe3e8225846e0b75890d11f98ce",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "65300493_244cf165",
        "filename": "git_cache.py",
        "patchSetId": 3
      },
      "lineNbr": 408,
      "author": {
        "id": 1141499
      },
      "writtenOn": "2019-04-19T02:52:36Z",
      "side": 1,
      "message": "tbh, i don\u0027t understand intent here.\nalso, why is prior code of creating temp (~randomly named) dir inside GetCachePath not good enough?",
      "range": {
        "startLine": 408,
        "startChar": 36,
        "endLine": 408,
        "endChar": 67
      },
      "revId": "eba534c9a938cfe3e8225846e0b75890d11f98ce",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "405ea0b2_6a1b2b66",
        "filename": "git_cache.py",
        "patchSetId": 3
      },
      "lineNbr": 408,
      "author": {
        "id": 1323143
      },
      "writtenOn": "2019-04-19T18:51:33Z",
      "side": 1,
      "message": "you\u0027re right",
      "parentUuid": "65300493_244cf165",
      "range": {
        "startLine": 408,
        "startChar": 36,
        "endLine": 408,
        "endChar": 67
      },
      "revId": "eba534c9a938cfe3e8225846e0b75890d11f98ce",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "6620a0fa_517b635d",
        "filename": "git_cache.py",
        "patchSetId": 3
      },
      "lineNbr": 410,
      "author": {
        "id": 1141499
      },
      "writtenOn": "2019-04-19T02:52:36Z",
      "side": 1,
      "message": "outdated comment.",
      "revId": "eba534c9a938cfe3e8225846e0b75890d11f98ce",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "fa0a1d12_929ca4db",
        "filename": "git_cache.py",
        "patchSetId": 3
      },
      "lineNbr": 410,
      "author": {
        "id": 1323143
      },
      "writtenOn": "2019-04-19T18:51:33Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "6620a0fa_517b635d",
      "revId": "eba534c9a938cfe3e8225846e0b75890d11f98ce",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "c1320e2a_834ed8ea",
        "filename": "git_cache.py",
        "patchSetId": 3
      },
      "lineNbr": 412,
      "author": {
        "id": 1141499
      },
      "writtenOn": "2019-04-19T02:52:36Z",
      "side": 1,
      "message": "how can you be sure that some prior aborted runs didn\u0027t result in this directory already existing?",
      "revId": "eba534c9a938cfe3e8225846e0b75890d11f98ce",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "44d64b77_51224339",
        "filename": "git_cache.py",
        "patchSetId": 3
      },
      "lineNbr": 412,
      "author": {
        "id": 1323143
      },
      "writtenOn": "2019-04-19T18:51:33Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "c1320e2a_834ed8ea",
      "revId": "eba534c9a938cfe3e8225846e0b75890d11f98ce",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "64966110_a92257b4",
        "filename": "git_cache.py",
        "patchSetId": 3
      },
      "lineNbr": 415,
      "author": {
        "id": 1141499
      },
      "writtenOn": "2019-04-19T02:52:36Z",
      "side": 1,
      "message": "is this actually necessary given that we are downloading \u0026 overwriting files anyway?\n\nie can you make sure that uploaded to GS files are already sufficient?",
      "revId": "eba534c9a938cfe3e8225846e0b75890d11f98ce",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "3bb04a6a_d36d2ec2",
        "filename": "git_cache.py",
        "patchSetId": 3
      },
      "lineNbr": 415,
      "author": {
        "id": 1323143
      },
      "writtenOn": "2019-04-19T18:51:33Z",
      "side": 1,
      "message": "No, I\u0027d get this error \u0027fatal: not in a git directory.\u0027",
      "parentUuid": "64966110_a92257b4",
      "revId": "eba534c9a938cfe3e8225846e0b75890d11f98ce",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "d488e3ff_c46d4c58",
        "filename": "git_cache.py",
        "patchSetId": 3
      },
      "lineNbr": 419,
      "author": {
        "id": 1141499
      },
      "writtenOn": "2019-04-19T02:52:36Z",
      "side": 1,
      "message": "does this actually work? \ndoes latest_checkout end with \u0027/\u0027?",
      "range": {
        "startLine": 419,
        "startChar": 45,
        "endLine": 419,
        "endChar": 60
      },
      "revId": "eba534c9a938cfe3e8225846e0b75890d11f98ce",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "b2a53798_b2ba064f",
        "filename": "git_cache.py",
        "patchSetId": 3
      },
      "lineNbr": 419,
      "author": {
        "id": 1323143
      },
      "writtenOn": "2019-04-19T18:51:33Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "d488e3ff_c46d4c58",
      "range": {
        "startLine": 419,
        "startChar": 45,
        "endLine": 419,
        "endChar": 60
      },
      "revId": "eba534c9a938cfe3e8225846e0b75890d11f98ce",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "c32a6586_3eb96645",
        "filename": "git_cache.py",
        "patchSetId": 3
      },
      "lineNbr": 427,
      "author": {
        "id": 1141499
      },
      "writtenOn": "2019-04-19T02:52:36Z",
      "side": 1,
      "message": "why are these vars necessary? I think code depending on \"retcode\" value can be inlined here.",
      "range": {
        "startLine": 425,
        "startChar": 4,
        "endLine": 427,
        "endChar": 17
      },
      "revId": "eba534c9a938cfe3e8225846e0b75890d11f98ce",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f326a01e_866425fd",
        "filename": "git_cache.py",
        "patchSetId": 3
      },
      "lineNbr": 427,
      "author": {
        "id": 1323143
      },
      "writtenOn": "2019-04-19T18:51:33Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "c32a6586_3eb96645",
      "range": {
        "startLine": 425,
        "startChar": 4,
        "endLine": 427,
        "endChar": 17
      },
      "revId": "eba534c9a938cfe3e8225846e0b75890d11f98ce",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "12984c9c_5d9f0544",
        "filename": "git_cache.py",
        "patchSetId": 3
      },
      "lineNbr": 433,
      "author": {
        "id": 1141499
      },
      "writtenOn": "2019-04-19T02:52:36Z",
      "side": 1,
      "message": "this should be done only on success.\n\non failure, you should delete latest_checkout_local_dir instead.",
      "range": {
        "startLine": 429,
        "startChar": 6,
        "endLine": 433,
        "endChar": 55
      },
      "revId": "eba534c9a938cfe3e8225846e0b75890d11f98ce",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "7c42ecbc_6e8d4763",
        "filename": "git_cache.py",
        "patchSetId": 3
      },
      "lineNbr": 433,
      "author": {
        "id": 1323143
      },
      "writtenOn": "2019-04-19T18:51:33Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "12984c9c_5d9f0544",
      "range": {
        "startLine": 429,
        "startChar": 6,
        "endLine": 433,
        "endChar": 55
      },
      "revId": "eba534c9a938cfe3e8225846e0b75890d11f98ce",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "d9d1d926_92318491",
        "filename": "git_cache.py",
        "patchSetId": 3
      },
      "lineNbr": 433,
      "author": {
        "id": 1141499
      },
      "writtenOn": "2019-04-20T00:08:15Z",
      "side": 1,
      "message": "\u003e Done\n\nwhat exactly did you do?\nSee also https://stackoverflow.com/questions/49262379/does-finally-always-execute-in-python",
      "parentUuid": "7c42ecbc_6e8d4763",
      "range": {
        "startLine": 429,
        "startChar": 6,
        "endLine": 433,
        "endChar": 55
      },
      "revId": "eba534c9a938cfe3e8225846e0b75890d11f98ce",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "faf5e58f_c6c7450a",
        "filename": "git_cache.py",
        "patchSetId": 3
      },
      "lineNbr": 433,
      "author": {
        "id": 1323143
      },
      "writtenOn": "2019-04-22T20:04:41Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "d9d1d926_92318491",
      "range": {
        "startLine": 429,
        "startChar": 6,
        "endLine": 433,
        "endChar": 55
      },
      "revId": "eba534c9a938cfe3e8225846e0b75890d11f98ce",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "64cd6ece_4ad1b1bb",
        "filename": "git_cache.py",
        "patchSetId": 3
      },
      "lineNbr": 436,
      "author": {
        "id": 1141499
      },
      "writtenOn": "2019-04-19T02:52:36Z",
      "side": 1,
      "message": "Downloading\n(we aren\u0027t really extracting it any more)",
      "range": {
        "startLine": 436,
        "startChar": 11,
        "endLine": 436,
        "endChar": 21
      },
      "revId": "eba534c9a938cfe3e8225846e0b75890d11f98ce",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "47bc82d1_60d36533",
        "filename": "git_cache.py",
        "patchSetId": 3
      },
      "lineNbr": 436,
      "author": {
        "id": 1141499
      },
      "writtenOn": "2019-04-20T00:08:15Z",
      "side": 1,
      "message": "ping",
      "parentUuid": "64cd6ece_4ad1b1bb",
      "range": {
        "startLine": 436,
        "startChar": 11,
        "endLine": 436,
        "endChar": 21
      },
      "revId": "eba534c9a938cfe3e8225846e0b75890d11f98ce",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "86fb9445_57f8c553",
        "filename": "git_cache.py",
        "patchSetId": 3
      },
      "lineNbr": 436,
      "author": {
        "id": 1323143
      },
      "writtenOn": "2019-04-22T20:04:41Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "47bc82d1_60d36533",
      "range": {
        "startLine": 436,
        "startChar": 11,
        "endLine": 436,
        "endChar": 21
      },
      "revId": "eba534c9a938cfe3e8225846e0b75890d11f98ce",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    }
  ]
}