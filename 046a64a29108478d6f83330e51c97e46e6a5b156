{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "ecf9209c_82497a2d",
        "filename": "presubmit_support.py",
        "patchSetId": 2
      },
      "lineNbr": 340,
      "author": {
        "id": 1003232
      },
      "writtenOn": "2021-07-19T18:49:34Z",
      "side": 1,
      "message": "I think this is overly cautious, I don\u0027t think you need to worry about neither six.PY2 or six.PY3.\n\nYou probably want to keep the cast to str(x) as the fallback, in case someone passes something that isn\u0027t a string but where str() does work (and the thing supports rstrip()), for compatibility with what it does today.",
      "revId": "046a64a29108478d6f83330e51c97e46e6a5b156",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "0a67ce9e_c64c72c9",
        "filename": "presubmit_support.py",
        "patchSetId": 2
      },
      "lineNbr": 340,
      "author": {
        "id": 1294958
      },
      "writtenOn": "2021-07-19T20:57:26Z",
      "side": 1,
      "message": "\u003e I think this is overly cautious, I don\u0027t think you need to worry about neither six.PY2 or six.PY3.\nI think you\u0027re right that `(not PY2) and (not PY3)` won\u0027t happen... I\u0027ll simplify that.\n\n\u003e ... keep the cast to str(x) as the fallback ...\nI think allowing things that aren\u0027t str/bytes/unicode would be more trouble than it\u0027s worth. If some other type is coming out of an rstrip() call, it\u0027s almost certainly some monkey-patching gone awry? I\u0027d much rather fail fast in that scenario.\n\n\u003e ... for compatibility with what it does today.\nIf presubmit_support.py is supposed to never-ever break backwards compat, I can see the reason for str()\u0027ing as a fallback. Is that the case? How conservative do we need to be here?\n\nSorry, I\u0027m not terribly familiar with depot_tools or what other projects expect of it... Happy to learn, though! ðŸ˜Š",
      "parentUuid": "ecf9209c_82497a2d",
      "revId": "046a64a29108478d6f83330e51c97e46e6a5b156",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "7299f7af_961e4eda",
        "filename": "presubmit_support.py",
        "patchSetId": 2
      },
      "lineNbr": 340,
      "author": {
        "id": 1003232
      },
      "writtenOn": "2021-07-19T22:23:34Z",
      "side": 1,
      "message": "Generally we try to keep backwards compatibility as much as is easily possible. Since depot_tools normally auto-updates, we want to make sure you can still do bisects, run branch releases, etc. \n\nIt\u0027s probably not super-common here to get something that isn\u0027t either a byte string or a char string, so I don\u0027t feel too strongly about it. You can try to land this with the ValueError raised, and we can change things if we find errors (at the cost of a shortish period where things aren\u0027t backwards compatible). But, I\u0027m also not sure that raising an error will be that helpful, so you could just keep the old behavior to be safe.",
      "parentUuid": "0a67ce9e_c64c72c9",
      "revId": "046a64a29108478d6f83330e51c97e46e6a5b156",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    }
  ]
}