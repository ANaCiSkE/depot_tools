{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "ae88bd91_bffeac37",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 7
      },
      "lineNbr": 0,
      "author": {
        "id": 1366072
      },
      "writtenOn": "2022-06-09T10:40:14Z",
      "side": 1,
      "message": "(Maybe not good idea too auto-submit)",
      "revId": "89f8f90db51925661d5332b289f49020675b0c94",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "5322889d_11204779",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 7
      },
      "lineNbr": 0,
      "author": {
        "id": 1366072
      },
      "writtenOn": "2022-06-09T12:50:39Z",
      "side": 1,
      "message": "Need to test with led.",
      "revId": "89f8f90db51925661d5332b289f49020675b0c94",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "4db2feca_f04d1d87",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 7
      },
      "lineNbr": 0,
      "author": {
        "id": 1001907
      },
      "writtenOn": "2022-06-09T17:18:17Z",
      "side": 1,
      "message": "Are you sure this is how ninja is meant to be distributed in recipes? I don\u0027t think it\u0027s good for a property to possibly do a bunch of downloads. Shouldn\u0027t we pin ninja directly in chromium/src DEPS?",
      "revId": "89f8f90db51925661d5332b289f49020675b0c94",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "3f6ade77_0b8fa78a",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 7
      },
      "lineNbr": 0,
      "author": {
        "id": 1001907
      },
      "writtenOn": "2022-06-09T17:33:56Z",
      "side": 1,
      "message": "Maybe this _is_ how ninja is currently distributed, but this seems like a bad way to do it; Are you certain that _no recipes anywhere_ depend on ninja at the version it\u0027s currently set to?\n\nI would strongly consider moving the ninja pin into chromium/src itself, so that way you don\u0027t need to fix all downstream uses of ninja.",
      "revId": "89f8f90db51925661d5332b289f49020675b0c94",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "dfe0dafc_f287f27d",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 7
      },
      "lineNbr": 0,
      "author": {
        "id": 1366072
      },
      "writtenOn": "2022-06-09T20:57:04Z",
      "side": 1,
      "message": "Yeah... I agree that installing in a property is a bad idea.\nI myself was confused with that build tools are deployed in different ways. \ne.g. ninja, autoninja vs goma vs reclient\n\nI\u0027m actually not familiar with recipes in chromium (and other projects that use depot_tools). Would the steps be 1) adding ninja to DEPS in all projects that use depot_tools recipe. 2) modify recipes to switch to use ninja DEPS?\nIt\u0027s unclear how large the scope is for me.\n\nFor a short term to deploy a new ninja version,\nCan I setup depot_toole/.cipd_bin somewhere only once somehow?\nWould DepotToolsApi.__init__() be a place to do such things?\n\nAnother question,\nAre all tools installed by CIPD in depot_tools for developers that set depot_tools in PATH? \nhttps://source.chromium.org/chromium/chromium/src/+/main:third_party/depot_tools/cipd_manifest.txt",
      "parentUuid": "4db2feca_f04d1d87",
      "revId": "89f8f90db51925661d5332b289f49020675b0c94",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "b830bb2b_c4473ef9",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 7
      },
      "lineNbr": 0,
      "author": {
        "id": 1161379
      },
      "writtenOn": "2022-06-10T00:36:58Z",
      "side": 1,
      "message": "I think it is better to install ninja in depot_tools now as there are many repositories which uses ninja and we don\u0027t want to update those one by one.\nWe even don\u0027t have complete list of such repositories.\n\n\u003e Are all tools installed by CIPD in depot_tools for developers that set depot_tools in PATH? \n\nI don\u0027t understand your question, but developers are supposed to have depot_tools in their $PATH.",
      "parentUuid": "dfe0dafc_f287f27d",
      "revId": "89f8f90db51925661d5332b289f49020675b0c94",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "48311bd2_0facb7f8",
        "filename": "recipes/recipe_modules/depot_tools/api.py",
        "patchSetId": 7
      },
      "lineNbr": 76,
      "author": {
        "id": 1161379
      },
      "writtenOn": "2022-06-09T11:30:12Z",
      "side": 1,
      "message": "make this private function?",
      "range": {
        "startLine": 76,
        "startChar": 6,
        "endLine": 76,
        "endChar": 20
      },
      "revId": "89f8f90db51925661d5332b289f49020675b0c94",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "acd576be_af76757e",
        "filename": "recipes/recipe_modules/depot_tools/api.py",
        "patchSetId": 7
      },
      "lineNbr": 78,
      "author": {
        "id": 1161379
      },
      "writtenOn": "2022-06-09T11:30:12Z",
      "side": 1,
      "message": "better to run this function only once",
      "revId": "89f8f90db51925661d5332b289f49020675b0c94",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "d02ded24_7c8987db",
        "filename": "recipes/recipe_modules/depot_tools/api.py",
        "patchSetId": 7
      },
      "lineNbr": 78,
      "author": {
        "id": 1366072
      },
      "writtenOn": "2022-06-09T12:50:39Z",
      "side": 1,
      "message": "Would it make sense to call cipd_bin_setup() in __init__()?\nI\u0027m hesitating to call cipd ensure at every time when accessing ninja_path/autoninja_path properties.",
      "parentUuid": "acd576be_af76757e",
      "revId": "89f8f90db51925661d5332b289f49020675b0c94",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "b23312a5_8ae8e96d",
        "filename": "recipes/recipe_modules/depot_tools/api.py",
        "patchSetId": 7
      },
      "lineNbr": 78,
      "author": {
        "id": 1161379
      },
      "writtenOn": "2022-06-10T00:36:58Z",
      "side": 1,
      "message": "No, we don\u0027t need to run cipd_bin_setup if ninja is not used.\n\nAlso, I think __init__() is not the place we can call other recipe module api.",
      "parentUuid": "d02ded24_7c8987db",
      "revId": "89f8f90db51925661d5332b289f49020675b0c94",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "a072f654_fcc5cb73",
        "filename": "recipes/recipe_modules/depot_tools/api.py",
        "patchSetId": 7
      },
      "lineNbr": 80,
      "author": {
        "id": 1161379
      },
      "writtenOn": "2022-06-09T11:30:12Z",
      "side": 1,
      "message": "I feel it is better to run something like `bash -c \u0027source cipd_bin_setup.sh; cipd_bin_setup\u0027`.\n\nI\u0027m not sure `source` is effective to succeeding step in recipe.",
      "range": {
        "startLine": 80,
        "startChar": 48,
        "endLine": 80,
        "endChar": 54
      },
      "revId": "89f8f90db51925661d5332b289f49020675b0c94",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "7e895e93_88800054",
        "filename": "recipes/recipe_modules/depot_tools/api.py",
        "patchSetId": 7
      },
      "lineNbr": 80,
      "author": {
        "id": 1366072
      },
      "writtenOn": "2022-06-09T12:50:39Z",
      "side": 1,
      "message": "I see. Indeed, I should check the behavior using led.",
      "parentUuid": "a072f654_fcc5cb73",
      "range": {
        "startLine": 80,
        "startChar": 48,
        "endLine": 80,
        "endChar": 54
      },
      "revId": "89f8f90db51925661d5332b289f49020675b0c94",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "2245c8e0_2c57ddfb",
        "filename": "recipes/recipe_modules/depot_tools/api.py",
        "patchSetId": 7
      },
      "lineNbr": 81,
      "author": {
        "id": 1161379
      },
      "writtenOn": "2022-06-09T11:30:12Z",
      "side": 1,
      "message": "It might be better to call cipd_bin_setup.bat on Windows.\n\n+Robbie for .bat file execution on recipe.",
      "range": {
        "startLine": 81,
        "startChar": 40,
        "endLine": 81,
        "endChar": 54
      },
      "revId": "89f8f90db51925661d5332b289f49020675b0c94",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "b181ca3d_d30baae8",
        "filename": "recipes/recipe_modules/depot_tools/api.py",
        "patchSetId": 7
      },
      "lineNbr": 81,
      "author": {
        "id": 1366072
      },
      "writtenOn": "2022-06-09T12:50:39Z",
      "side": 1,
      "message": "Will check the behavior with led.",
      "parentUuid": "2245c8e0_2c57ddfb",
      "range": {
        "startLine": 81,
        "startChar": 40,
        "endLine": 81,
        "endChar": 54
      },
      "revId": "89f8f90db51925661d5332b289f49020675b0c94",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "f897cf03_19e59ead",
        "filename": "recipes/recipe_modules/depot_tools/api.py",
        "patchSetId": 7
      },
      "lineNbr": 81,
      "author": {
        "id": 1001907
      },
      "writtenOn": "2022-06-09T17:33:56Z",
      "side": 1,
      "message": "recipe engine will try \u0027.exe\u0027 and then \u0027.bat\u0027 in that order automatically",
      "parentUuid": "b181ca3d_d30baae8",
      "range": {
        "startLine": 81,
        "startChar": 40,
        "endLine": 81,
        "endChar": 54
      },
      "revId": "89f8f90db51925661d5332b289f49020675b0c94",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    }
  ]
}