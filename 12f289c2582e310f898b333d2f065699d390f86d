{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "db293eca_e949d495",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 7
      },
      "lineNbr": 0,
      "author": {
        "id": 1529602
      },
      "writtenOn": "2022-11-17T05:29:33Z",
      "side": 1,
      "message": "This CL fell through my backlog, sorry about that.\n\nThe code seems fine. Manually testing it now.",
      "revId": "12f289c2582e310f898b333d2f065699d390f86d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "a63b696d_155539ef",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 7
      },
      "lineNbr": 0,
      "author": {
        "id": 1529602
      },
      "writtenOn": "2022-11-17T06:21:24Z",
      "side": 1,
      "message": "`gclient sync --no-history` on chromium/src using current depot_tools:\n```\n➜  no-history du -csh **/.git/objects\n340K\tsrc/buildtools/clang_format/script/.git/objects\n3.3M\tsrc/buildtools/third_party/libc++abi/trunk/.git/objects\n31M\tsrc/buildtools/third_party/libc++/trunk/.git/objects\n768K\tsrc/buildtools/third_party/libunwind/trunk/.git/objects\n19M\tsrc/chrome/test/data/perf/canvas_bench/.git/objects\n6.4M\tsrc/chrome/test/data/perf/frame_rate/content/.git/objects\n95M\tsrc/chrome/test/data/xr/webvr_info/.git/objects\n4.1M\tsrc/docs/website/.git/objects\n1.2G\tsrc/.git/objects\n268K\tsrc/media/cdm/api/.git/objects\n385M\tsrc/native_client/.git/objects\n52M\tsrc/net/third_party/quiche/src/.git/objects\n338M\tsrc/third_party/angle/.git/objects\n14M\tsrc/third_party/angle/third_party/glmark2/src/.git/objects\n30M\tsrc/third_party/angle/third_party/rapidjson/src/.git/objects\n514M\tsrc/third_party/angle/third_party/VK-GL-CTS/src/.git/objects\n237M\tsrc/third_party/boringssl/src/.git/objects\n46M\tsrc/third_party/breakpad/breakpad/.git/objects\n56K\tsrc/third_party/cast_core/public/src/.git/objects\n449M\tsrc/third_party/catapult/.git/objects\n436K\tsrc/third_party/ced/src/.git/objects\n2.8M\tsrc/third_party/cld_3/src/.git/objects\n516K\tsrc/third_party/colorama/src/.git/objects\n288K\tsrc/third_party/content_analysis_sdk/src/.git/objects\n3.5M\tsrc/third_party/cpuinfo/src/.git/objects\n192K\tsrc/third_party/crc32c/src/.git/objects\n28K\tsrc/third_party/cros_components/.git/objects\n2.2M\tsrc/third_party/cros_system_api/.git/objects\n5.4M\tsrc/third_party/dav1d/libdav1d/.git/objects\n126M\tsrc/third_party/dawn/.git/objects\n12M\tsrc/third_party/dawn/third_party/glfw/.git/objects\n70M\tsrc/third_party/dawn/third_party/webgpu-cts/.git/objects\n34M\tsrc/third_party/depot_tools/.git/objects\n607M\tsrc/third_party/devtools-frontend/src/.git/objects\n2.9M\tsrc/third_party/dom_distiller_js/dist/.git/objects\n104M\tsrc/third_party/eigen3/src/.git/objects\n28K\tsrc/third_party/emoji-segmenter/src/.git/objects\n14M\tsrc/third_party/expat/src/.git/objects\n728K\tsrc/third_party/farmhash/src/.git/objects\n134M\tsrc/third_party/ffmpeg/.git/objects\n300K\tsrc/third_party/flac/.git/objects\n25M\tsrc/third_party/flatbuffers/src/.git/objects\n3.4M\tsrc/third_party/fontconfig/src/.git/objects\n96K\tsrc/third_party/fp16/src/.git/objects\n27M\tsrc/third_party/freetype/src/.git/objects\n1.9M\tsrc/third_party/freetype-testing/src/.git/objects\n28K\tsrc/third_party/fxdiv/src/.git/objects\n3.1M\tsrc/third_party/gemmlowp/src/.git/objects\n14M\tsrc/third_party/googletest/src/.git/objects\n292M\tsrc/third_party/grpc/src/.git/objects\n91M\tsrc/third_party/harfbuzz-ng/src/.git/objects\n6.1M\tsrc/third_party/highway/src/.git/objects\n96M\tsrc/third_party/hunspell_dictionaries/.git/objects\n703M\tsrc/third_party/icu/.git/objects\n2.2M\tsrc/third_party/jsoncpp/source/.git/objects\n1.3M\tsrc/third_party/leveldatabase/src/.git/objects\n652K\tsrc/third_party/libaddressinput/src/.git/objects\n361M\tsrc/third_party/libaom/source/libaom/.git/objects\n16M\tsrc/third_party/libavif/src/.git/objects\n14M\tsrc/third_party/libdrm/src/.git/objects\n136K\tsrc/third_party/libFuzzer/src/.git/objects\n12M\tsrc/third_party/libgav1/src/.git/objects\n284K\tsrc/third_party/libipp/libipp/.git/objects\n5.7M\tsrc/third_party/libjpeg_turbo/.git/objects\n28M\tsrc/third_party/libjxl/src/.git/objects\n64M\tsrc/third_party/liblouis/src/.git/objects\n172M\tsrc/third_party/libphonenumber/dist/.git/objects\n588K\tsrc/third_party/libprotobuf-mutator/src/.git/objects\n200K\tsrc/third_party/libsrtp/.git/objects\n100K\tsrc/third_party/libsync/src/.git/objects\n125M\tsrc/third_party/libvpx/source/libvpx/.git/objects\n2.5M\tsrc/third_party/libwebm/source/.git/objects\n12M\tsrc/third_party/libwebp/src/.git/objects\n13M\tsrc/third_party/libyuv/.git/objects\n248K\tsrc/third_party/lss/.git/objects\n2.8M\tsrc/third_party/minigbm/src/.git/objects\n6.5M\tsrc/third_party/minizip/src/.git/objects\n7.2M\tsrc/third_party/nasm/.git/objects\n14M\tsrc/third_party/nearby/src/.git/objects\n284K\tsrc/third_party/neon_2_sse/src/.git/objects\n114M\tsrc/third_party/openh264/src/.git/objects\n70M\tsrc/third_party/openscreen/src/.git/objects\n1.2M\tsrc/third_party/openscreen/src/third_party/tinycbor/src/.git/objects\n40M\tsrc/third_party/ots/src/.git/objects\n181M\tsrc/third_party/pdfium/.git/objects\n165M\tsrc/third_party/perfetto/.git/objects\n108K\tsrc/third_party/pthreadpool/src/.git/objects\n19M\tsrc/third_party/pyelftools/.git/objects\n168K\tsrc/third_party/pywebsocket3/src/.git/objects\n408K\tsrc/third_party/quic_trace/src/.git/objects\n8.4M\tsrc/third_party/re2/src/.git/objects\n1.5M\tsrc/third_party/ruy/src/.git/objects\n88K\tsrc/third_party/securemessage/src/.git/objects\n726M\tsrc/third_party/skia/.git/objects\n88K\tsrc/third_party/smhasher/src/.git/objects\n2.9M\tsrc/third_party/snappy/src/.git/objects\n355M\tsrc/third_party/sqlite/src/.git/objects\n532M\tsrc/third_party/swiftshader/.git/objects\n1.8M\tsrc/third_party/text-fragments-polyfill/src/.git/objects\n872M\tsrc/third_party/tflite/src/.git/objects\n236K\tsrc/third_party/ukey2/src/.git/objects\n4.3M\tsrc/third_party/vulkan-deps/.git/objects\n61M\tsrc/third_party/vulkan-deps/glslang/src/.git/objects\n31M\tsrc/third_party/vulkan-deps/spirv-cross/src/.git/objects\n2.6M\tsrc/third_party/vulkan-deps/spirv-headers/src/.git/objects\n25M\tsrc/third_party/vulkan-deps/spirv-tools/src/.git/objects\n34M\tsrc/third_party/vulkan-deps/vulkan-headers/src/.git/objects\n55M\tsrc/third_party/vulkan-deps/vulkan-loader/src/.git/objects\n42M\tsrc/third_party/vulkan-deps/vulkan-tools/src/.git/objects\n132M\tsrc/third_party/vulkan-deps/vulkan-validation-layers/src/.git/objects\n29M\tsrc/third_party/vulkan_memory_allocator/.git/objects\n518M\tsrc/third_party/wayland-protocols/gtk/.git/objects\n2.1M\tsrc/third_party/wayland-protocols/kde/.git/objects\n464K\tsrc/third_party/wayland-protocols/src/.git/objects\n3.0M\tsrc/third_party/wayland/src/.git/objects\n3.1M\tsrc/third_party/webdriver/pylib/.git/objects\n26M\tsrc/third_party/webgl/src/.git/objects\n70M\tsrc/third_party/webgpu-cts/src/.git/objects\n37M\tsrc/third_party/webrtc/.git/objects\n14M\tsrc/third_party/weston/src/.git/objects\n340K\tsrc/third_party/wuffs/src/.git/objects\n428K\tsrc/third_party/xdg-utils/.git/objects\n61M\tsrc/third_party/xnnpack/src/.git/objects\n64K\tsrc/tools/page_cycler/acid3/.git/objects\n1.1G\tsrc/v8/.git/objects\n12G\ttotal\n```",
      "parentUuid": "db293eca_e949d495",
      "revId": "12f289c2582e310f898b333d2f065699d390f86d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "47fc4bc2_9023b7e7",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 7
      },
      "lineNbr": 0,
      "author": {
        "id": 1529602
      },
      "writtenOn": "2022-11-17T06:22:01Z",
      "side": 1,
      "message": "gclient sync --no-history on chromium/src using this change:\n\n```\n➜  new-depot-tools du -csh **/.git/objects\n132K\tsrc/buildtools/clang_format/script/.git/objects\n828K\tsrc/buildtools/third_party/libc++abi/trunk/.git/objects\n8.1M\tsrc/buildtools/third_party/libc++/trunk/.git/objects\n688K\tsrc/buildtools/third_party/libunwind/trunk/.git/objects\n19M\tsrc/chrome/test/data/perf/canvas_bench/.git/objects\n6.4M\tsrc/chrome/test/data/perf/frame_rate/content/.git/objects\n93M\tsrc/chrome/test/data/xr/webvr_info/.git/objects\n4.1M\tsrc/docs/website/.git/objects\n1.2G\tsrc/.git/objects\n88K\tsrc/media/cdm/api/.git/objects\n5.5M\tsrc/native_client/.git/objects\n3.3M\tsrc/net/third_party/quiche/src/.git/objects\n11M\tsrc/third_party/angle/.git/objects\n9.2M\tsrc/third_party/angle/third_party/glmark2/src/.git/objects\n1.2M\tsrc/third_party/angle/third_party/rapidjson/src/.git/objects\n45M\tsrc/third_party/angle/third_party/VK-GL-CTS/src/.git/objects\n29M\tsrc/third_party/boringssl/src/.git/objects\n5.2M\tsrc/third_party/breakpad/breakpad/.git/objects\n412K\tsrc/third_party/cast_core/public/src/.git/objects\n151M\tsrc/third_party/catapult/.git/objects\n612K\tsrc/third_party/ced/src/.git/objects\n1.5M\tsrc/third_party/cld_3/src/.git/objects\n400K\tsrc/third_party/colorama/src/.git/objects\n552K\tsrc/third_party/content_analysis_sdk/src/.git/objects\n3.4M\tsrc/third_party/cpuinfo/src/.git/objects\n364K\tsrc/third_party/crc32c/src/.git/objects\n96K\tsrc/third_party/cros_components/.git/objects\n248K\tsrc/third_party/cros_system_api/.git/objects\n1.6M\tsrc/third_party/dav1d/libdav1d/.git/objects\n11M\tsrc/third_party/dawn/.git/objects\n916K\tsrc/third_party/dawn/third_party/glfw/.git/objects\n1.1M\tsrc/third_party/dawn/third_party/webgpu-cts/.git/objects\n1.6M\tsrc/third_party/depot_tools/.git/objects\n51M\tsrc/third_party/devtools-frontend/src/.git/objects\n912K\tsrc/third_party/dom_distiller_js/dist/.git/objects\n3.4M\tsrc/third_party/eigen3/src/.git/objects\n88K\tsrc/third_party/emoji-segmenter/src/.git/objects\n8.0M\tsrc/third_party/expat/src/.git/objects\n1020K\tsrc/third_party/farmhash/src/.git/objects\n18M\tsrc/third_party/ffmpeg/.git/objects\n920K\tsrc/third_party/flac/.git/objects\n2.2M\tsrc/third_party/flatbuffers/src/.git/objects\n760K\tsrc/third_party/fontconfig/src/.git/objects\n468K\tsrc/third_party/fp16/src/.git/objects\n2.8M\tsrc/third_party/freetype/src/.git/objects\n1.9M\tsrc/third_party/freetype-testing/src/.git/objects\n224K\tsrc/third_party/fxdiv/src/.git/objects\n896K\tsrc/third_party/gemmlowp/src/.git/objects\n1004K\tsrc/third_party/googletest/src/.git/objects\n11M\tsrc/third_party/grpc/src/.git/objects\n25M\tsrc/third_party/harfbuzz-ng/src/.git/objects\n1.8M\tsrc/third_party/highway/src/.git/objects\n64M\tsrc/third_party/hunspell_dictionaries/.git/objects\n46M\tsrc/third_party/icu/.git/objects\n244K\tsrc/third_party/jsoncpp/source/.git/objects\n324K\tsrc/third_party/leveldatabase/src/.git/objects\n652K\tsrc/third_party/libaddressinput/src/.git/objects\n5.6M\tsrc/third_party/libaom/source/libaom/.git/objects\n5.5M\tsrc/third_party/libavif/src/.git/objects\n800K\tsrc/third_party/libdrm/src/.git/objects\n544K\tsrc/third_party/libFuzzer/src/.git/objects\n1.4M\tsrc/third_party/libgav1/src/.git/objects\n384K\tsrc/third_party/libipp/libipp/.git/objects\n2.4M\tsrc/third_party/libjpeg_turbo/.git/objects\n1.8M\tsrc/third_party/libjxl/src/.git/objects\n13M\tsrc/third_party/liblouis/src/.git/objects\n15M\tsrc/third_party/libphonenumber/dist/.git/objects\n532K\tsrc/third_party/libprotobuf-mutator/src/.git/objects\n776K\tsrc/third_party/libsrtp/.git/objects\n104K\tsrc/third_party/libsync/src/.git/objects\n5.8M\tsrc/third_party/libvpx/source/libvpx/.git/objects\n588K\tsrc/third_party/libwebm/source/.git/objects\n2.4M\tsrc/third_party/libwebp/src/.git/objects\n612K\tsrc/third_party/libyuv/.git/objects\n232K\tsrc/third_party/lss/.git/objects\n636K\tsrc/third_party/minigbm/src/.git/objects\n792K\tsrc/third_party/minizip/src/.git/objects\n1.6M\tsrc/third_party/nasm/.git/objects\n6.5M\tsrc/third_party/nearby/src/.git/objects\n224K\tsrc/third_party/neon_2_sse/src/.git/objects\n58M\tsrc/third_party/openh264/src/.git/objects\n14M\tsrc/third_party/openscreen/src/.git/objects\n656K\tsrc/third_party/openscreen/src/third_party/tinycbor/src/.git/objects\n27M\tsrc/third_party/ots/src/.git/objects\n8.5M\tsrc/third_party/pdfium/.git/objects\n21M\tsrc/third_party/perfetto/.git/objects\n380K\tsrc/third_party/pthreadpool/src/.git/objects\n612K\tsrc/third_party/pyelftools/.git/objects\n712K\tsrc/third_party/pywebsocket3/src/.git/objects\n916K\tsrc/third_party/quic_trace/src/.git/objects\n436K\tsrc/third_party/re2/src/.git/objects\n368K\tsrc/third_party/ruy/src/.git/objects\n452K\tsrc/third_party/securemessage/src/.git/objects\n53M\tsrc/third_party/skia/.git/objects\n384K\tsrc/third_party/smhasher/src/.git/objects\n1.7M\tsrc/third_party/snappy/src/.git/objects\n15M\tsrc/third_party/sqlite/src/.git/objects\n53M\tsrc/third_party/swiftshader/.git/objects\n628K\tsrc/third_party/text-fragments-polyfill/src/.git/objects\n74M\tsrc/third_party/tflite/src/.git/objects\n160K\tsrc/third_party/ukey2/src/.git/objects\n272K\tsrc/third_party/vulkan-deps/.git/objects\n4.2M\tsrc/third_party/vulkan-deps/glslang/src/.git/objects\n2.1M\tsrc/third_party/vulkan-deps/spirv-cross/src/.git/objects\n380K\tsrc/third_party/vulkan-deps/spirv-headers/src/.git/objects\n4.0M\tsrc/third_party/vulkan-deps/spirv-tools/src/.git/objects\n2.8M\tsrc/third_party/vulkan-deps/vulkan-headers/src/.git/objects\n1.7M\tsrc/third_party/vulkan-deps/vulkan-loader/src/.git/objects\n700K\tsrc/third_party/vulkan-deps/vulkan-tools/src/.git/objects\n4.4M\tsrc/third_party/vulkan-deps/vulkan-validation-layers/src/.git/objects\n1.1M\tsrc/third_party/vulkan_memory_allocator/.git/objects\n28M\tsrc/third_party/wayland-protocols/gtk/.git/objects\n408K\tsrc/third_party/wayland-protocols/kde/.git/objects\n172K\tsrc/third_party/wayland-protocols/src/.git/objects\n420K\tsrc/third_party/wayland/src/.git/objects\n316K\tsrc/third_party/webdriver/pylib/.git/objects\n20M\tsrc/third_party/webgl/src/.git/objects\n1.1M\tsrc/third_party/webgpu-cts/src/.git/objects\n36M\tsrc/third_party/webrtc/.git/objects\n2.1M\tsrc/third_party/weston/src/.git/objects\n552K\tsrc/third_party/wuffs/src/.git/objects\n424K\tsrc/third_party/xdg-utils/.git/objects\n11M\tsrc/third_party/xnnpack/src/.git/objects\n244K\tsrc/tools/page_cycler/acid3/.git/objects\n33M\tsrc/v8/.git/objects\n2.4G\ttotal\n```",
      "parentUuid": "a63b696d_155539ef",
      "revId": "12f289c2582e310f898b333d2f065699d390f86d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "f6728da3_c24adf2e",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 7
      },
      "lineNbr": 0,
      "author": {
        "id": 1529602
      },
      "writtenOn": "2022-11-17T06:24:11Z",
      "side": 1,
      "message": "There definitely is a significant argument to switch to this `--no-history` implementation. I\u0027m checking all `--no-history` usages to ensure this doesn\u0027t break anything else.\n\nI also need to go through `lastchange.py` to check this change\u0027s impact.",
      "parentUuid": "47fc4bc2_9023b7e7",
      "revId": "12f289c2582e310f898b333d2f065699d390f86d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "16201985_c9ba055b",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 7
      },
      "lineNbr": 0,
      "author": {
        "id": 1529602
      },
      "writtenOn": "2022-11-17T08:14:42Z",
      "side": 1,
      "message": "Running `find . -type d -name \u0027.git\u0027 -print -exec cat \"{}/HEAD\" \\; \u003e heads.txt` on both copies and checking refs shows different refs two repos: `src/.git` and `src/third_party/angle/.git`. Not sure if this is intended.",
      "parentUuid": "f6728da3_c24adf2e",
      "revId": "12f289c2582e310f898b333d2f065699d390f86d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "718009be_2bbf8847",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 7
      },
      "lineNbr": 0,
      "author": {
        "id": 1508803
      },
      "writtenOn": "2022-11-17T15:39:09Z",
      "side": 1,
      "message": "Was `gclient sync --no-history` run with a specific ref or just HEAD? I\u0027m guessing something was committed to those repositories.",
      "parentUuid": "16201985_c9ba055b",
      "revId": "12f289c2582e310f898b333d2f065699d390f86d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "d7c9a350_c286fdc4",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 7
      },
      "lineNbr": 0,
      "author": {
        "id": 1529602
      },
      "writtenOn": "2022-11-17T18:49:02Z",
      "side": 1,
      "message": "That\u0027s what I think too. Your hash is the same as the one in the DEPS file so I don\u0027t see an issue. I was just logging all my findings here.",
      "parentUuid": "718009be_2bbf8847",
      "revId": "12f289c2582e310f898b333d2f065699d390f86d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "e838399e_19e1584c",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 7
      },
      "lineNbr": 0,
      "author": {
        "id": 1529602
      },
      "writtenOn": "2022-11-17T22:15:07Z",
      "side": 1,
      "message": "There seems to be a discussion on using `git fetch \u003cremote\u003e \u003cSHA\u003e` when this was originally written[1]. From discussing with @iannucci, I\u0027m assuming the support issue is resolved now. I still have to confirm it from the gob team.\n\nThere might also be a performance implication. Apparently, gob used to take non-optimized paths on `--no-history` fetches and hence was slower than a full-fetch. I\u0027m not sure if this still applies. I\u0027m manually benchmarking a full-fetch against this change locally but we might have to check more than that.\n\nAnd then there\u0027s the whole correctness part -- ensuring all the tools work. It seems to be more work than simply approving the change. I will ensure I get the support question anwered and performance question partially answered but I might not have the bandwidth to check the impact of this change.\n\n[1] https://codereview.chromium.org/437903002/patch/1/10003",
      "revId": "12f289c2582e310f898b333d2f065699d390f86d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "2c353b90_113ac4a6",
        "filename": "gclient_scm.py",
        "patchSetId": 7
      },
      "lineNbr": 1146,
      "author": {
        "id": 1529602
      },
      "writtenOn": "2022-11-17T05:29:33Z",
      "side": 1,
      "message": "I don\u0027t think it is a good idea to hardcode parameters like these in the middle of the code. It gets confusing.",
      "revId": "12f289c2582e310f898b333d2f065699d390f86d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "b21d41e5_eefb9337",
        "filename": "gclient_scm.py",
        "patchSetId": 7
      },
      "lineNbr": 1146,
      "author": {
        "id": 1508803
      },
      "writtenOn": "2022-11-17T15:39:09Z",
      "side": 1,
      "message": "Yeah, I\u0027m not really sure how best to handle this. I\u0027m also not a fan of url.endswith for finding chromium source. Someone could have their own mirror of the source with a different URL e.g. \"source.google.com/chromium.git\". I\u0027m open to options.\n\nI\u0027m thinking unconditionally take the last ~5 commits? It may make sense to make that number configurable with `--no-history-depth` or something. Although, that doesn\u0027t seem quite in spirit with `--no-history`.",
      "parentUuid": "2c353b90_113ac4a6",
      "revId": "12f289c2582e310f898b333d2f065699d390f86d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "d50da462_597238ea",
        "filename": "gclient_scm.py",
        "patchSetId": 7
      },
      "lineNbr": 1146,
      "author": {
        "id": 1529602
      },
      "writtenOn": "2022-11-17T18:47:58Z",
      "side": 1,
      "message": "I\u0027m not exactly sure what\u0027s the use case of lastchange.py. Going through the code, it only seems to use the top commit (https://crsrc.org/c/build/util/lastchange.py;l\u003d112?q\u003dlastchange.py):\n\n```\ngit log -1 --format\u003d\"%H %ct\"\ngit cat-file commit \u003chash\u003e\n```\n\nWhy do you think this would fail?\n\nAlso, I agree that the spirit of `--no-history` is to have a light-weight checkout without any history so I think `--depth\u003d1` should be fine but I don\u0027t know the historical case of not using it. @sokcevic@google.com What do you think?",
      "parentUuid": "b21d41e5_eefb9337",
      "revId": "12f289c2582e310f898b333d2f065699d390f86d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "78b56170_c1764c27",
        "filename": "gclient_scm.py",
        "patchSetId": 7
      },
      "lineNbr": 1146,
      "author": {
        "id": 1508803
      },
      "writtenOn": "2022-11-17T19:08:43Z",
      "side": 1,
      "message": "The `commit_filter` part of `lastchange.py` is the trouble. By default it ends up running `git log -1 --grep \"^Change-Id:\" --format\u003d\"%H %ct\"` which roughly means \"show me the most recent commit with a Change-Id\". It looks back at more than the HEAD commit.\n\nThis is really only an issue for Chromium build tags where the most recent commit is always a DEPS update. For example:\nhttps://chromium.googlesource.com/chromium/src.git/+/refs/tags/110.0.5424.1\n\nThe full content of the commit message at HEAD (`81eaf1347ec23bfd46e51629f9d6b829db9f2a36`) is `Publish DEPS for 110.0.5424.1`. No `Change-Id`, no `Cr-Commit-Position`. The parent commit (`83d1782600fe53bc05810b7be0e597a016f39cbc`) has both fields.\n\nThis causes builds at tags with `--depth\u003d1` to fail, as `lastchange.py` won\u0027t be able to find the last change. So for Chromium, it looks like we need a tiny bit of extra history.",
      "parentUuid": "d50da462_597238ea",
      "revId": "12f289c2582e310f898b333d2f065699d390f86d",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    }
  ]
}