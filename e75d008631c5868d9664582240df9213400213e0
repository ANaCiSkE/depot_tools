{
  "comments": [
    {
      "key": {
        "uuid": "b49d176f_7edefb61",
        "filename": "gclient",
        "patchSetId": 7
      },
      "lineNbr": 22,
      "author": {
        "id": 1002222
      },
      "writtenOn": "2019-07-25T15:13:08Z",
      "side": 1,
      "message": "I\u0027m not sure calling vpython explicitly in these wrappers is desirable, or necessary (it isn\u0027t like that in the \u0027gn\u0027 wrapper). Isn\u0027t its use meant to be largely invisible, and you either get it (e.g. on the bots) or not (e.g. on workstations) depending on how the environment is setup? This could give inconsistent behavior, running different versions of python, depending on whether someone calls \u0027gclient\u0027 or \u0027gclient.py\u0027. Probably not a huge problem, but also probably not ideal.",
      "revId": "e75d008631c5868d9664582240df9213400213e0",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "7606d3c9_4ffb9625",
        "filename": "gclient",
        "patchSetId": 7
      },
      "lineNbr": 22,
      "author": {
        "id": 1167909
      },
      "writtenOn": "2019-07-25T15:46:02Z",
      "side": 1,
      "message": "It is necessary, otherwise we\u0027d just have to assume users have the right libraries installed on their workstations.\n\nGood point about a possibily inconsistent behavior.\nIt made me think that, as things are now, there is possibly inconsistent behavior on different workstations with different environments, so there\u0027s also an advantage to running gclient on a known environment.",
      "parentUuid": "b49d176f_7edefb61",
      "revId": "e75d008631c5868d9664582240df9213400213e0",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ba692e7b_7e7a605f",
        "filename": "gclient",
        "patchSetId": 7
      },
      "lineNbr": 22,
      "author": {
        "id": 1002222
      },
      "writtenOn": "2019-07-25T16:09:55Z",
      "side": 1,
      "message": "\u003e It is necessary, otherwise we\u0027d just have to assume users have the right libraries installed on their workstations.\n\nUnderstood, although we do kind of already assume that, which is why install-build-deps.sh exists. But that predates vpython, and I agree solving python dependencies with vpython is better.\n\n\u003e Good point about a possibily inconsistent behavior.\n\u003e It made me think that, as things are now, there is possibly inconsistent behavior on different workstations with different environments, so there\u0027s also an advantage to running gclient on a known environment.\n\nYeah, this, and a lot of other tools, probably should always be running with vpython, but in that case, I think it needs to be plumbed through more thoroughly.",
      "parentUuid": "7606d3c9_4ffb9625",
      "revId": "e75d008631c5868d9664582240df9213400213e0",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "32bc845e_d8d34a84",
        "filename": "gclient",
        "patchSetId": 7
      },
      "lineNbr": 22,
      "author": {
        "id": 1167909
      },
      "writtenOn": "2019-07-25T16:12:10Z",
      "side": 1,
      "message": "Plumbed through more thoroughly?",
      "parentUuid": "ba692e7b_7e7a605f",
      "revId": "e75d008631c5868d9664582240df9213400213e0",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f3f299cf_69f30b79",
        "filename": "gclient",
        "patchSetId": 7
      },
      "lineNbr": 22,
      "author": {
        "id": 1002222
      },
      "writtenOn": "2019-07-25T16:20:48Z",
      "side": 1,
      "message": "Yeah, like maybe gclient.py should use:\n\n#!/usr/bin/env vpython\n\nand maybe things that run gclient.py, like \u0027fetch\u0027, should also be updated to explicitly use vpython, although I defer to iannucci on whether or not all that is appropriate here.",
      "parentUuid": "32bc845e_d8d34a84",
      "revId": "e75d008631c5868d9664582240df9213400213e0",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "54daf1ee_7105b4b3",
        "filename": "gclient",
        "patchSetId": 7
      },
      "lineNbr": 22,
      "author": {
        "id": 1001907
      },
      "writtenOn": "2019-07-25T16:50:09Z",
      "side": 1,
      "message": "just to chime in; it\u0027s always preferable to explicitly invoke vpython for tools that need it; this means it\u0027ll be consistent for everything.\n\nThe \u0027get it automatically on the bots\u0027 was more about insulating the tasks from accidentally picking up dependencies on the system python installation (which may have extra modules installed like psutil).",
      "parentUuid": "f3f299cf_69f30b79",
      "revId": "e75d008631c5868d9664582240df9213400213e0",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "9a63077e_5262802b",
        "filename": "gclient",
        "patchSetId": 7
      },
      "lineNbr": 22,
      "author": {
        "id": 1002222
      },
      "writtenOn": "2019-07-25T16:56:39Z",
      "side": 1,
      "message": "sgtm, thanks",
      "parentUuid": "54daf1ee_7105b4b3",
      "revId": "e75d008631c5868d9664582240df9213400213e0",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "491cf617_e96ac0e5",
        "filename": "gclient",
        "patchSetId": 7
      },
      "lineNbr": 22,
      "author": {
        "id": 1167909
      },
      "writtenOn": "2019-07-25T19:00:54Z",
      "side": 1,
      "message": "Added #!/usr/bin/env vpython and vpython to the places that call gclient.",
      "parentUuid": "9a63077e_5262802b",
      "revId": "e75d008631c5868d9664582240df9213400213e0",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    }
  ]
}