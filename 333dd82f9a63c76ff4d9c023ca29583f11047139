{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "6ff7f1d6_8872498e",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1560543
      },
      "writtenOn": "2023-12-19T00:57:01Z",
      "side": 1,
      "message": "bryner@, I reused your commit message, but the implementation had to be different.\n\nJust in case you are not aware, when setting old_env \u003d os.environ, old_env is a reference, and therefore any update to os.environ will be reflected in old_env.",
      "revId": "333dd82f9a63c76ff4d9c023ca29583f11047139",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "fe9fd566_8f147f77",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1115868
      },
      "writtenOn": "2023-12-19T01:49:43Z",
      "side": 1,
      "message": "Note sure what\u0027s going on with the presubmit failure -- I think part of it that it needs formatted, but it\u0027s also blowing up running some git commands.",
      "revId": "333dd82f9a63c76ff4d9c023ca29583f11047139",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "9371353c_6d218d44",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1115868
      },
      "writtenOn": "2023-12-19T02:17:33Z",
      "side": 1,
      "message": "It\u0027s a stab in the dark, but this code: https://source.chromium.org/chromium/chromium/tools/depot_tools/+/main:testing_support/git_test_utils.py;l\u003d387;drc\u003d06c4261af7368fdf57e3b3dfdce2cfef6b659f29\n\nmight need to call os.set_inheritable (and/or os.set_handle_inheritable?) on `devnull`, per https://docs.python.org/3.8/library/os.html#fd-inheritance",
      "revId": "333dd82f9a63c76ff4d9c023ca29583f11047139",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "267943a9_df86a1fa",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1560543
      },
      "writtenOn": "2023-12-19T21:43:41Z",
      "side": 1,
      "message": "I believe the problem is in timeouts:\n\n```\nvpython3.bat depot_tools\\tests\\git_rebase_update_test.py --verbose (340.48s) failed\nProcess timed out after 330s\n```\n\nwe are very close to that on Windows and we should increase it (or optimize tests).",
      "parentUuid": "9371353c_6d218d44",
      "revId": "333dd82f9a63c76ff4d9c023ca29583f11047139",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "23f0bde5_c5120d31",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1115868
      },
      "writtenOn": "2023-12-20T01:37:14Z",
      "side": 1,
      "message": "Indeed that does seem like the main problem here, though I still wonder if there is an issue with logging to stderr in the code I linked to. I will test separately from this CL.",
      "parentUuid": "267943a9_df86a1fa",
      "revId": "333dd82f9a63c76ff4d9c023ca29583f11047139",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "ff6b8155_97a2646f",
        "filename": "presubmit_support.py",
        "patchSetId": 1
      },
      "lineNbr": 2035,
      "author": {
        "id": 1115868
      },
      "writtenOn": "2023-12-19T01:49:43Z",
      "side": 1,
      "message": "Note this throws KeyError if the key doesn\u0027t exist. It\u0027s probably ok, given that all the keys from old_kv are set in os.environ at line 2029, however I suppose code that runs inside the context manager could then unset the variable, triggering an exception.\n\nYou could pass None as the second parameter to pop if you want to avoid this possibility.",
      "revId": "333dd82f9a63c76ff4d9c023ca29583f11047139",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "6b0c76d6_57268936",
        "filename": "presubmit_support.py",
        "patchSetId": 1
      },
      "lineNbr": 2035,
      "author": {
        "id": 1560543
      },
      "writtenOn": "2023-12-19T21:43:41Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "ff6b8155_97a2646f",
      "revId": "333dd82f9a63c76ff4d9c023ca29583f11047139",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    }
  ]
}