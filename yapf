#!/usr/bin/env vpython3

# -*- coding: utf-8 -*-
import sys
import subprocess


def main(argv):
    # Assume the second arg is the file.
    with open(argv[1], 'r') as f:
        if 'python3' in f.readline():
            version_suffix = '3'
        else:
            version_suffix = '2'
    # Use either yapf2 or yapf3. Return its returncode so that the caller can
    # choose how to handle failures.
    return subprocess.run([argv[0] + version_suffix] + argv[1:]).returncode


if __name__ == '__main__':
    sys.exit(main(sys.argv))
