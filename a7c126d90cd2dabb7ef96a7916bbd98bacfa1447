{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "e15d17b5_54d7d126",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1128439
      },
      "writtenOn": "2022-04-13T23:40:17Z",
      "side": 1,
      "message": "I can\u0027t tell how scary this change is, but it seems necessary, unless there is some alternate way to fix this. Thoughts?",
      "revId": "a7c126d90cd2dabb7ef96a7916bbd98bacfa1447",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "ce2b4255_40a00063",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1116524
      },
      "writtenOn": "2022-04-13T23:58:10Z",
      "side": 1,
      "message": "Why not set `run_on_python2` to `False` in that PRESUBMIT? Does that not work?",
      "parentUuid": "e15d17b5_54d7d126",
      "revId": "a7c126d90cd2dabb7ef96a7916bbd98bacfa1447",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "b3602986_b2663029",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1128439
      },
      "writtenOn": "2022-04-14T00:13:17Z",
      "side": 1,
      "message": "I assume that that works, but I\u0027m unsure of how we are going to get off of Python 2 if it is the default, even when a script has a Python 3 shebang. The run_on_python2\u003dTrue argument is two functions removed from the call site, and it behaves differently from run_on_python3\u003dTrue (which requires a compatible shebang).\n\nI am not an expert in the area of this code, but I guess I am unclear as to why we would _ever_ want to run a script on both Python 3 and Python 2 at this point.",
      "parentUuid": "ce2b4255_40a00063",
      "revId": "a7c126d90cd2dabb7ef96a7916bbd98bacfa1447",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "04a91bae_31c29884",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1128439
      },
      "writtenOn": "2022-04-14T20:51:26Z",
      "side": 1,
      "message": "Thinking about this some more...\n\nI think we want to make moving to Python 3 as easy as possible. Currently to switch generate_grd_test.py from Python 3 to Python 2 a developer has to set a Python 3 shebang _and_ set run_on_python2\u003dFalse, modifying two files, which is non-obvious and extra effort.\n\nAnd, if developers do that then when we finally succeed in getting rid of Python 2 we will be left with \"run_on_python2\u003dFalse\" parameters all throughout the code base that we\u0027ll want to remove.\n\nIf there is a compelling reason to run scripts under both Python 2 and 3 then this change should be abandoned, but I have not heard of such a reason. In fact, I think that running scripts on one _or_ the other is what developers expect.",
      "parentUuid": "b3602986_b2663029",
      "revId": "a7c126d90cd2dabb7ef96a7916bbd98bacfa1447",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "1d5ffeab_aca59220",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1116524
      },
      "writtenOn": "2022-04-14T21:11:17Z",
      "side": 1,
      "message": "Unfortunately, we do need to do that.\nMost of the catapult code is run under Python 2 and is slowly being migrated to be Python 3-compatible. When I was doing some of the changes here, I was making sure that the tests were running and passing under both Python 2 and Python 3.",
      "parentUuid": "04a91bae_31c29884",
      "revId": "a7c126d90cd2dabb7ef96a7916bbd98bacfa1447",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "5bfb167f_803345c3",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1128439
      },
      "writtenOn": "2022-04-14T21:37:08Z",
      "side": 1,
      "message": "Understood. Is it possible to make the both-versions behavior be opt-in instead of opt-out, to support catapult while making migration of individual scripts easier?\n\nFailing that: is it better to set skip_shebang_check\u003dTrue and run_on_python2\u003dFalse, or create a Python 3 shebang and set run_on_python2\u003dFalse. The former has the advantage of only touching one file, but I don\u0027t know which is better long-term.",
      "parentUuid": "1d5ffeab_aca59220",
      "revId": "a7c126d90cd2dabb7ef96a7916bbd98bacfa1447",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    }
  ]
}