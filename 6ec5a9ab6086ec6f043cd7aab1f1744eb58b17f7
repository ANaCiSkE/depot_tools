{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "f534a9fd_1270b4f8",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1185750
      },
      "writtenOn": "2024-03-19T20:03:26Z",
      "side": 1,
      "message": "Hi Brian,\n\nI encountered an error while attempting to sync the existing source code:\n\n\nfailed to load storage: initialize local storage failed: /home/aorus/.cache/.vpython-root/store: mkdir /home/aorus/.cache/.vpython-root: permission denied\n\nCould you suggest a workaround? I\u0027m hoping to avoid setting up the source code from scratch again, as it would require a significant amount of time (approximately 2 hours for syncing and building).\n\nThanks in advance for your help.",
      "revId": "6ec5a9ab6086ec6f043cd7aab1f1744eb58b17f7",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "8a9008d4_b5df1786",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1378662
      },
      "writtenOn": "2024-03-19T23:54:34Z",
      "side": 1,
      "message": "Do you mind to verify whether `/home/aorus/.cache/.vpython-root` exists and its owner/permission?",
      "parentUuid": "f534a9fd_1270b4f8",
      "revId": "6ec5a9ab6086ec6f043cd7aab1f1744eb58b17f7",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "905c5624_2081b0c5",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1185750
      },
      "writtenOn": "2024-03-20T04:26:38Z",
      "side": 1,
      "message": "Hello Chenlin, No, that directory doesn\u0027t exists:\n\n(cr) aorus@aorus /mnt/host/source/src/scripts $ ls -l /home/aorus/.cache/.vpython-rootls: cannot access \u0027/home/aorus/.cache/.vpython-root\u0027: No such file or directory\n(cr) aorus@aorus /mnt/host/source/src/scripts $ ls -l /home/aorus/.cache/\ntotal 4\ndrwxr-xr-x 3 root root 4096 Feb  1 14:13 cros\n(cr) aorus@aorus /mnt/host/source/src/scripts $",
      "parentUuid": "8a9008d4_b5df1786",
      "revId": "6ec5a9ab6086ec6f043cd7aab1f1744eb58b17f7",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "84bd1f7e_0d03ffbd",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1378662
      },
      "writtenOn": "2024-03-20T05:20:06Z",
      "side": 1,
      "message": "I think the .cache directory under your home shouldn\u0027t be owned by root, right? Do you mind try chown /home/aorus/.cache/ to your user?",
      "parentUuid": "905c5624_2081b0c5",
      "revId": "6ec5a9ab6086ec6f043cd7aab1f1744eb58b17f7",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "e09d0c75_f72f48e2",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1185750
      },
      "writtenOn": "2024-03-20T18:21:02Z",
      "side": 1,
      "message": "Hmm.. I am not sure. I am just syncing my existing codebase and then I run into this issue. If you sync code from scratch, I dont see this issue. \n\nsudo chown -R aorus /home/aorus/.cache/\n\nAfter permission change, I run into different error:\n\n11:19:41: ERROR: cros build-packages failed before completing.\n11:19:41: ERROR: return code: 1; command: cros_list_modified_packages --sysroot /build/arkham\ncros_list_modified_packages: Unhandled exception:\nTraceback (most recent call last):\n  File \"/mnt/host/source/chromite/bin/cros_list_modified_packages\", line 213, in \u003cmodule\u003e\n    DoMain()\n  File \"/mnt/host/source/chromite/bin/cros_list_modified_packages\", line 209, in DoMain\n    commandline.ScriptWrapperMain(FindTarget)\n  File \"/mnt/host/source/chromite/lib/commandline.py\", line 1571, in ScriptWrapperMain\n    ret \u003d target(argv[1:])\n  File \"/mnt/host/source/chromite/scripts/cros_list_modified_packages.py\", line 245, in main\n    print(\" \".join(sorted(modified)))\n  File \"/mnt/host/source/chromite/scripts/cros_list_modified_packages.py\", line 196, in ListModifiedWorkonPackages\n    packages \u003d ListWorkonPackagesInfo(sysroot)\n  File \"/mnt/host/source/chromite/scripts/cros_list_modified_packages.py\", line 137, in ListWorkonPackagesInfo\n    for filename, projects in portage_util.GetWorkonProjectMap(\n  File \"/mnt/host/source/chromite/lib/portage_util.py\", line 2144, in GetWorkonProjectMap\n    yield relpath, workon_vars.project\nAttributeError: \u0027NoneType\u0027 object has no attribute \u0027project\u0027\n\ncmd\u003d[\u0027cros_list_modified_packages\u0027, \u0027--sysroot\u0027, PosixPath(\u0027/build/arkham\u0027)]\n11:19:41: ERROR: (Re-run with --debug for more details.)",
      "parentUuid": "84bd1f7e_0d03ffbd",
      "revId": "6ec5a9ab6086ec6f043cd7aab1f1744eb58b17f7",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "60dbc465_5d011678",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1378662
      },
      "writtenOn": "2024-03-21T00:31:28Z",
      "side": 1,
      "message": "We aren\u0027t familiar with chromeos stuff. You can file a issue to chromeos. though (assuming you are using gclient sync to update) it can break when syncing from an ancient version.",
      "parentUuid": "e09d0c75_f72f48e2",
      "revId": "6ec5a9ab6086ec6f043cd7aab1f1744eb58b17f7",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    }
  ]
}